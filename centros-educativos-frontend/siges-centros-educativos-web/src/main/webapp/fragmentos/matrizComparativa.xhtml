<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"                 
                xmlns="http://www.w3.org/1999/xhtml"                 
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"                 
                xmlns:f="http://xmlns.jcp.org/jsf/core"                 
                xmlns:h="http://xmlns.jcp.org/jsf/html"                 
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui">    

    <o:importConstants type="sv.gob.mined.siges.web.enumerados.EnumEstadoPlaza" />
    <o:importConstants type="sv.gob.mined.siges.web.enumerados.EnumTipoPlaza" />
    <o:importConstants type="sv.gob.mined.siges.web.enumerados.EnumEstadoSolicitudPlaza" />

    <h:form id="form">
        <f:passThroughAttribute name="autocomplete" value="off"/>

        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="#{ConstantesPaginas.SOLICITUDES_PLAZAS}">
                        #{msg.gestionPlaza}

                    </a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">#{msg.matrizComparativa}</li>
            </ol>
        </nav>        

        <p:outputPanel styleClass="panel-titulo-pagina">
            <h2 class="page-header"><h:outputText value="#{msg.matrizComparativa}"/></h2>

            <p:outputPanel styleClass="float-right">
                <ui:include src="componentes/ayudaComponente.xhtml">
                    <ui:param name="ayuda" id="uso" value="#{ayudaBean.getAyuda(ConstantesAyuda.PLAZA)}" /> 
                </ui:include>

            </p:outputPanel>

            <div class="lineaHeader"><div class="verde"></div><div class="amarillo"></div><div class="rojo"></div><div class="celeste"></div></div>
        </p:outputPanel>

        <h:panelGroup id="searchPanels">
            <p:panel header="#{msg.plaza}"  toggleable="true" toggleSpeed="500" closeSpeed="500" 
                     styleClass="panel-filtro" collapsed="false">
                <p:outputPanel id="pnlSearch" styleClass="row">
                    <p:outputPanel styleClass="col-md-12">

                        <p:outputPanel styleClass="form-group row" >
                            <h:outputLabel value="#{msg.sede}"  styleClass="col-sm-2 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-10 ">
                                <h:outputText styleClass="form-control-plaintext" 
                                              value="#{matrizComparativaBean.entidadEnEdicion.splSedeSolicitante.sedCodigoNombre}"/>

                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" >
                            <h:outputLabel value="#{msg.departamento}" styleClass="col-sm-2 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-4  ">
                                <h:outputText styleClass="form-control-plaintext" 
                                              value="#{matrizComparativaBean.entidadEnEdicion.splSedeSolicitante.sedDireccion.dirDepartamento.depNombre}"/>

                            </p:outputPanel>
                            <h:outputLabel value="#{msg.municipio}"  styleClass="col-sm-2 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-4 ">
                                <h:outputText styleClass="form-control-plaintext" 
                                              value="#{matrizComparativaBean.entidadEnEdicion.splSedeSolicitante.sedDireccion.dirMunicipio.munNombre}"/>
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" 
                                       rendered="#{matrizComparativaBean.entidadEnEdicion.splTipoPlaza eq EnumTipoPlaza.D}">
                            <h:outputLabel value="#{msg.niveles}"  styleClass="col-sm-2 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-4">
                                <h:outputText styleClass="form-control-plaintext" 
                                              value="#{matrizComparativaBean.entidadEnEdicion.splNivel.nivNombre}"/>
                            </p:outputPanel>
                            <h:outputLabel value="#{msg.modalidadEstudio}"  styleClass="col-sm-2 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-4">
                                <h:outputText styleClass="form-control-plaintext" 
                                              value="#{matrizComparativaBean.entidadEnEdicion.splModalidadEducativa.modNombre}"/>
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row">
                            <h:panelGroup
                                rendered="#{matrizComparativaBean.entidadEnEdicion.splTipoPlaza eq EnumTipoPlaza.D}">
                                <h:outputLabel value="#{msg.componentePlanEstudio}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.entidadEnEdicion.splComponentePlanEstudio.cpeNombre}"/>
                                </p:outputPanel>    
                            </h:panelGroup>
                            <h:panelGroup 
                                rendered="#{matrizComparativaBean.entidadEnEdicion.splTipoPlaza eq EnumTipoPlaza.A}">
                                <h:outputLabel value="#{msg.tipoNombramiento}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.entidadEnEdicion.splTipoNombramiento.carNombre}"/>
                                </p:outputPanel>
                            </h:panelGroup>

                            <h:outputLabel value="#{msg.jornadaLaboral}"  styleClass="col-sm-2 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-4">
                                <h:outputText styleClass="form-control-plaintext" 
                                              value="#{matrizComparativaBean.entidadEnEdicion.splJornada.jlaNombre}"/>
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row">
                            <h:outputLabel value="#{msg.fechaIniPostulacion}"  styleClass="col-sm-2 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-4">
                                <h:outputText styleClass="form-control-plaintext" 
                                              value="#{matrizComparativaBean.entidadEnEdicion.splPostulacionInicio}" 
                                              converter="#{localDateConverter}"/>
                            </p:outputPanel>
                            <h:outputLabel value="#{msg.fechaFinPostulacion}"  styleClass="col-sm-2 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-4">
                                <h:outputText styleClass="form-control-plaintext" 
                                              value="#{matrizComparativaBean.entidadEnEdicion.splPostulacionFin}" 
                                              converter="#{localDateConverter}"/>
                            </p:outputPanel>
                        </p:outputPanel>


                    </p:outputPanel>

                </p:outputPanel>
            </p:panel>	

            <p:panel header="#{msg.filtrosAvanzados}" id="panelAvanzado" 
                     styleClass="panel-filtro"
                     closable="true"
                     rendered="#{matrizComparativaBean.panelAvanzado}">

                <p:outputPanel styleClass="row">
                    <p:outputPanel styleClass="col-md-6">
                        <p:outputPanel styleClass="form-group row">
                            <h:outputLabel value="#{msg.departamento}" for="b_deptoNac" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">
                                <h:selectOneMenu id="b_deptoNac" value="#{matrizComparativaBean.comboDepartamento.selected}" 
                                                 styleClass="form-control dropdown texto-medio">
                                    <f:selectItems value="#{matrizComparativaBean.comboDepartamento.items}"/>
                                    <p:ajax listener="#{matrizComparativaBean.seleccionarDepartamento}" event="change"  
                                            process="@this" update="fila_municipio"/>
                                </h:selectOneMenu>
                            </p:outputPanel>
                        </p:outputPanel>
                    </p:outputPanel>

                    <p:outputPanel styleClass="col-md-6">
                        <p:outputPanel styleClass="form-group row" id="fila_municipio">
                            <h:outputLabel value="#{msg.municipio}" for="b_municNac" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">
                                <h:selectOneMenu id="b_municNac" value="#{matrizComparativaBean.comboMunicipio.selected}" 
                                                 disabled="#{matrizComparativaBean.comboDepartamento.selectedT==null}" 
                                                 styleClass="form-control dropdown texto-medio">
                                    <f:selectItems value="#{matrizComparativaBean.comboMunicipio.items}"/>
                                </h:selectOneMenu>
                            </p:outputPanel>
                        </p:outputPanel>
                    </p:outputPanel>
                </p:outputPanel>

                <p:outputPanel styleClass="row">
                    <p:outputPanel styleClass="col-md-6">
                        <p:outputPanel styleClass="form-group row">
                            <h:outputLabel value="#{msg.nip}" for="b_nip" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">
                                <h:inputText autocomplete="off" styleClass="form-control texto-corto" id="b_nip" 
                                             value="#{matrizComparativaBean.filtro.nip}" maxlength="50" /> 
                            </p:outputPanel>
                        </p:outputPanel>
                    </p:outputPanel>    

                    <p:outputPanel styleClass="col-md-6">
                        <p:outputPanel styleClass="form-group row">
                            <h:outputLabel value="#{msg.dui}" for="b_dui" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">
                                <h:inputText autocomplete="off" styleClass="form-control texto-corto" id="b_dui" 
                                             value="#{matrizComparativaBean.filtro.dui}" maxlength="50" /> 
                            </p:outputPanel>
                        </p:outputPanel>
                    </p:outputPanel>   


                </p:outputPanel>

                <p:outputPanel styleClass="row">
                    <p:outputPanel styleClass="col-md-6">
                        <p:outputPanel styleClass="form-group row">
                            <h:outputLabel value="#{msg.cum}" for="input_especialidad" 
                                           styleClass="col-sm-3 col-form-label "/>
                            <p:outputPanel styleClass="col-sm-9">
                                <p:inputNumber styleClass="form-control texto-corto" decimalPlaces="1" 
                                               value="#{matrizComparativaBean.filtro.epaCum}"
                                               decimalSeparator="." thousandSeparator="" minValue="0" maxValue="10"/>
                            </p:outputPanel>
                        </p:outputPanel>
                    </p:outputPanel> 

                    <p:outputPanel styleClass="col-md-6">
                        <p:outputPanel styleClass="form-group row">
                            <h:outputLabel value="#{msg.especialidad}" for="input_especialidad" 
                                           styleClass="col-sm-3 col-form-label "/>
                            <p:outputPanel styleClass="col-sm-9">
                                <p:autoComplete id="input_discapacidad_autocomplete" 
                                                styleClass="form-control "
                                                value="#{matrizComparativaBean.especialidades}"
                                                completeMethod="#{matrizComparativaBean.completeEspecialidad}"
                                                var="esp" itemLabel="#{esp.espNombre}" 
                                                itemValue="#{esp}" 
                                                onclick="PF('b_disc_autocomplete').search(PF('b_disc_autocomplete').input.val())"
                                                widgetVar="b_disc_autocomplete"
                                                forceSelection="true"
                                                queryDelay="500"
                                                maxResults="10"                                        
                                                placeholder="#{msg.autoCompleteEmptyItem}"
                                                converter="#{especialidadConverter}"
                                                multiple="true" unique="true" >
                                    <p:ajax event="itemSelect"  process="@this" update="input_discapacidad_autocomplete"/>
                                </p:autoComplete>
                            </p:outputPanel>     
                        </p:outputPanel>
                    </p:outputPanel>

                </p:outputPanel>
                
                <p:outputPanel styleClass="row">
                
                    <p:outputPanel styleClass="col-md-6">
                        <p:outputPanel styleClass="form-group row">
                            <h:outputLabel value="#{msg.discapacidades}" for="input_discapacidad" 
                                           styleClass="col-sm-3 col-form-label "/>
                            <p:outputPanel styleClass="col-sm-9">
                                <p:autoComplete id="input_discapacidad" 
                                                styleClass="form-control texto-medio"
                                                value="#{matrizComparativaBean.discapacidades}"
                                                completeMethod="#{matrizComparativaBean.completeDiscapacidad}"
                                                var="dis" itemLabel="#{dis.disNombre}" 
                                                itemValue="#{dis}" 
                                                onclick="PF('b_discapacidad').search(PF('b_discapacidad').input.val())"
                                                widgetVar="b_discapacidad"
                                                forceSelection="true"
                                                queryDelay="500"
                                                maxResults="10"   
                                                placeholder="#{msg.autoCompleteEmptyItem}"
                                                converter="#{discapacidadConverter}"
                                                multiple="true" unique="true" >
                                    <p:ajax event="itemSelect"  process="@this" update="input_discapacidad"/>
                                </p:autoComplete>
                            </p:outputPanel>     
                        </p:outputPanel>
                    </p:outputPanel>
                    
                    <p:outputPanel styleClass="col-md-6">
                        <p:outputPanel styleClass="form-group row" id="fila_calidad">
                            <h:outputLabel value="#{msg.calidadAplicante}" for="b_calidad" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">
                                <h:selectOneMenu id="b_calidad" value="#{matrizComparativaBean.comboCalidadAplicante.selected}"
                                                 styleClass="form-control dropdown texto-medio">
                                    <f:selectItems value="#{matrizComparativaBean.comboCalidadAplicante.items}"/>
                                </h:selectOneMenu>
                            </p:outputPanel>
                        </p:outputPanel>
                    </p:outputPanel>
                    
                </p:outputPanel>
                
                <p:outputPanel styleClass="col-md-6">
                    <p:outputPanel styleClass="form-group row" id="rango_filtro_fecha_desde">
                        <h:outputLabel value="#{msg.rangoFechaGraduacion}" styleClass="col-sm-12"/>
                    </p:outputPanel>
                </p:outputPanel>
                
                <p:outputPanel styleClass="col-md-6">
                    <p:outputPanel styleClass="form-group row">
                        <h:outputLabel value="#{msg.desde}" for="filtro_fecha_desde" styleClass="col-sm-3 col-form-label "/>
                        <p:outputPanel styleClass="col-sm-9">
                            <p:calendar id="filtro_fecha_desde" styleClass="form-control"
                                        value="#{matrizComparativaBean.filtro.epaFechaGraduacionDesde}"
                                        pattern="#{applicationBean.patternFecha}"
                                        converter="#{localDateConverter}"/>
                        </p:outputPanel>
                    </p:outputPanel>
                </p:outputPanel>

                <p:outputPanel styleClass="col-md-6">
                    <p:outputPanel styleClass="form-group row">
                        <h:outputLabel value="#{msg.hasta}" for="filtro_fecha_hasta" styleClass="col-sm-3 col-form-label"/>
                        <p:outputPanel styleClass="col-sm-9">
                            <p:calendar id="filtro_fecha_hasta" styleClass="form-control"
                                        value="#{matrizComparativaBean.filtro.epaFechaGraduacionHasta}"
                                        pattern="#{applicationBean.patternFecha}"
                                        converter="#{localDateConverter}"/>
                        </p:outputPanel>
                    </p:outputPanel>
                </p:outputPanel>

            </p:panel>


        </h:panelGroup>

        <p:outputPanel styleClass="col-md-12" style="margin-top: -15px;">
            <p:outputPanel styleClass="form-group row">
                <p:outputPanel styleClass="col-sm-12 texto-right">
                    <p:commandButton id="btnBuscar" value="#{msg.buscar}" styleClass="btn btn-primary" icon="glyphicon glyphicon-search" 
                                     action="#{matrizComparativaBean.buscar()}" update="pnlResultado boton-pub"/>
                    <p:commandLink value="#{matrizComparativaBean.txtFiltroAvanzado}" 
                                   action="#{matrizComparativaBean.verPanelAvanzado()}" 
                                   update="searchPanels @this" styleClass="btn btn-link" />
                    <p:commandLink value="#{msg.limpiar}" action="#{matrizComparativaBean.limpiar()}" 
                                   update="searchPanels panelAvanzado pnlResultado" immediate="true" styleClass="btn btn-link">
                        <p:resetInput target="pnlSearch panelAvanzado pnlResultado" />
                    </p:commandLink>
                    <p:defaultCommand target="btnBuscar" scope="searchPanels"/>
                    <p:blockUI block="@form" trigger="btnBuscar" />
                </p:outputPanel>
            </p:outputPanel>
        </p:outputPanel>

        <p:outputPanel rendered="#{matrizComparativaBean.mensajeWarningDocentes != null and  matrizComparativaBean.entidadEnEdicion != null}" styleClass="ui-messages">
            <div class="ui-messages-warn ui-corner-all">
                <span class="ui-messages-warn-icon"></span>
                <ul>
                    <li>
                        <h:outputText styleClass="ui-messages-warn-summary" value="#{matrizComparativaBean.mensajeWarningDocentes}" />
                    </li>
                </ul>
            </div>
        </p:outputPanel>
        
        <p:outputPanel id="pnlResultado" >
            <p:dataTable id="basicDT"                         
                         widgetVar="widResultado"                         
                         var="elem"                          
                         value="#{matrizComparativaBean.listaMatriz}"   

                         emptyMessage="#{msg.noHayResultados}"
                         paginator="#{matrizComparativaBean.listaMatriz.size() gt 10 ? true : false}"
                         paginatorPosition="bottom"
                         currentPageReportTemplate="#{msg.pagina} {currentPage} #{msg.de_m} {totalPages}" 
                         paginatorTemplate="#{applicationBean.paginatorTemplate}"
                         rowsPerPageTemplate="#{applicationBean.rowsPerPageTemplate2}"
                         rows="#{matrizComparativaBean.paginado}"
                         >
                <f:facet name="{anterior}">
                    <h:outputText styleClass="ui-paginator-prev  ui-state-disabled" value="&lt; #{msg.anterior}"/>
                </f:facet>
                <f:facet name="{siguiente}">
                    <h:outputText styleClass="#{matrizComparativaBean.totalResultados lt (matrizComparativaBean.paginado+1) ? 'ui-paginator-next ui-state-disabled' : 'ui-paginator-next'}" value="#{msg.siguiente} &gt;"/>
                </f:facet>

                <f:facet name="header">
                    <p:outputPanel id="pnlHeaderTabla" styleClass="row">
                        <p:outputPanel styleClass="col-md-6">
                            <h3>
                                <h:outputText value="#{msg.resultadoBusqueda}" />
                                <h:outputText styleClass="cantidad" 
                                              value="#{matrizComparativaBean.totalResultados} #{msg.elementos}" />
                            </h3>
                        </p:outputPanel>
                        <p:outputPanel styleClass="col-md-6">
                            <p:outputPanel styleClass="form-inline float-right panel-exportar">
                                <h:commandLink value="Exportar" styleClass="btn btn-link">
                                    <p:dataExporter type="csv" target="basicDT" fileName="plazas" pageOnly="false"/>
                                </h:commandLink>
                            </p:outputPanel>
                        </p:outputPanel>
                    </p:outputPanel>
                </f:facet>
                <p:column headerText="#{msg.calidadDe}" groupRow="true" >
                    <h:outputText value="#{elem.aplicacion.aplCalidadAplicantes.ciaNombre}" />
                </p:column>
                <p:column headerText="#{msg.hnip}"  groupRow="true"  >
                    <h:outputText value="\'" style="visibility: hidden;"  />
                    <h:outputText value="#{elem.aplicacion.aplPersonal.psePersona.perNip}" />
                </p:column>
                <p:column headerText="#{msg.hdui}" groupRow="true" >
                    <h:outputText value="\'" style="visibility: hidden;" />
                    <h:outputText value="#{ elem.aplicacion.aplPersonal.psePersona.perDui}" />
                </p:column>      
                <p:column headerText="#{msg.hDocente}" groupRow="true" >
                    <h:outputText value="#{elem.aplicacion.aplPersonal.psePersona.perNombreCompleto}" />
                </p:column>
                <p:column headerText="#{msg.hfechaGraduacion}">
                    <h:outputText value="#{elem.especialidades.epaFechaGraduacion}" converter="#{localDateConverter}" />
                </p:column>
                <p:column headerText="#{msg.hcum}" >
                    <h:outputText value="#{elem.especialidades.epaCum}" />
                </p:column>
                <p:column headerText="#{msg.hEspecialidad}">
                    <h:outputText value="#{elem.especialidades.epaEspecialidad.espNombre}" />
                </p:column>
                <p:column headerText="#{msg.hDepartamento}" groupRow="true" >
                    <h:outputText value="#{elem.aplicacion.aplPersonal.psePersona.perDireccion.dirDepartamento.depNombre}" />
                </p:column>
                <p:column headerText="#{msg.hMunicipio}" groupRow="true" >
                    <h:outputText value="#{elem.aplicacion.aplPersonal.psePersona.perDireccion.dirMunicipio.munNombre}" />
                </p:column>
                
                <p:column headerText="#{msg.hdiscapacidades}" groupRow="true" >
                    <h:outputText value="#{elem.aplicacion.aplPersonal.psePersona.discapacidadesAsString}" />
                </p:column>
                
                <p:column styleClass="columnaAcciones" exportable="false" >
                    <p:link outcome="#{ConstantesPaginas.DOCENTE}" title="#{msg.irFichaDocente}" styleClass="btn btn-icono" rendered="#{elem.mostrarBotonDocente eq true}" >
                        <h:outputText id="irFicha" styleClass="#{sessionBean.operaciones.contains(ConstantesOperaciones.ACTUALIZAR_DOCENTE)? 'glyphicon glyphicon-new-window' : 'glyphicon glyphicon-eye-open'} "/>
                        <f:param name="id" value="#{elem.aplicacion.aplPersonal.psePk}"/>
                        <f:param name="edit" value="#{sessionBean.operaciones.contains(ConstantesOperaciones.ACTUALIZAR_DOCENTE)? true : false}"/>
                    </p:link>
                </p:column> 
                <p:column styleClass="columnaAcciones"  exportable="false" rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.PUEDE_EDITAR_DOCENTE_EN_MATRIZ_COMPARATIVA)}" >                   
                    <p:commandButton id="asignar" oncomplete="PF('confirmSeleccionar').show()" rendered="#{(elem.seleccionadoOtraPlaza eq false) and (matrizComparativaBean.entidadEnEdicion.splEstado != EnumEstadoSolicitudPlaza.PUBLICADA) and (elem.mostrarBotonDocente eq true) and (elem.aplicacion.aplSeleccionadoEnMatriz != true)}" update=":form:confirmSeleccionarDialog" styleClass="btn btn-secondary botones-pendiente"   value="Asignar"  action="#{matrizComparativaBean.actualizarAplicacion(elem.aplicacion,true)}"/>
                    <p:commandButton id="seleccionado" update=":form:confirmSeleccionarDialog" oncomplete="PF('confirmSeleccionar').show()" title="#{msg.docenteSeleccionado}" styleClass="btn btn-icono" icon="glyphicon glyphicon-ok-sign" style="color:green" rendered="#{(elem.seleccionadoOtraPlaza eq false) and (elem.mostrarBotonDocente eq true) and (elem.aplicacion.aplSeleccionadoEnMatriz eq true)}" action="#{matrizComparativaBean.actualizarAplicacion(elem.aplicacion,false)}"/>
                    <p:commandButton id="selected" update=":form:confirmSeleccionadoDialog" oncomplete="PF('confirmSeleccionado').show()" title="#{msg.docenteNoDisponible}" styleClass="btn btn-icono" icon="glyphicon glyphicon-info-sign" rendered="#{elem.seleccionadoOtraPlaza eq true and elem.mostrarBotonDocente eq true}" action="#{matrizComparativaBean.obtenerPlazaSeleccionado(elem.aplicacion)}"/>
                </p:column>

            </p:dataTable>
        </p:outputPanel>

        
        
        <p:dialog header="Seleccionar docente" widgetVar="confirmSeleccionar" modal="true" showEffect="fade" hideEffect="fade" resizable="false">             
            <p:outputPanel id="confirmSeleccionarDialog">                                                             
                <h:panelGroup rendered="#{not empty matrizComparativaBean.aplicacionEnEdicion}"  >                    
                    <p:messages id="popupmsg" showDetail="true" globalOnly="false" for="popupmsg" closable="true"/>                
                    <p:outputPanel id="formularioNie"> 

                        <p:outputPanel styleClass="form-group row" id="fila_input_motivos_seleccion" >                        
                            <h:outputLabel value="#{msg.motivosSeleccion}" for="input_motivos_seleccion" 
                                           styleClass="col-sm-4 col-form-label obligatorio"/>
                            <p:outputPanel styleClass="col-sm-8">
                                <p:selectManyCheckbox disabled="#{matrizComparativaBean.entidadEnEdicion.splEstado == EnumEstadoSolicitudPlaza.PUBLICADA}" layout="responsive" columns="1" id="input_motivos_seleccion" value="#{matrizComparativaBean.aplicacionEnEdicion.aplMotivosSeleccionPLaza}" converter="omnifaces.SelectItemsConverter" >
                                    <f:selectItems value="#{matrizComparativaBean.motivosSeleccion}" var="mot" itemLabel="#{mot.mspNombre}" itemValue="#{mot}" />
                                </p:selectManyCheckbox>
                            </p:outputPanel>
                        </p:outputPanel>   
                        
                        <p:outputPanel styleClass="form-group row" id="fila_input_ere_observacion">
                            <h:outputLabel value="#{msg.observacion}" for="input_ere_observacion" styleClass="col-sm-4 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-8">
                                <h:inputTextarea id="input_ere_observacion" styleClass="form-control" value="#{matrizComparativaBean.aplicacionEnEdicion.aplObservacion}" disabled="#{matrizComparativaBean.entidadEnEdicion.splEstado == EnumEstadoSolicitudPlaza.PUBLICADA}" />
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel styleClass="control-group" >
                            <p:outputPanel styleClass="float-right">
                                <p:commandButton id="btnGuardar"  value="#{msg.guardar}" action="#{matrizComparativaBean.guardarAplicacionConDocenteSeleccionado()}" rendered="#{matrizComparativaBean.entidadEnEdicion.splEstado != EnumEstadoSolicitudPlaza.PUBLICADA}" update=":form:confirmSeleccionarDialog" styleClass="btn btn-primary" icon="glyphicon glyphicon-floppy-disk"/>                             
                                <p:commandLink value="#{msg.cancelar}" oncomplete="PF('confirmSeleccionar').hide();"  update=":form:confirmSeleccionarDialog" styleClass="btn btn-link"/>                        
                            </p:outputPanel>                    
                        </p:outputPanel>                     
                        <p:blockUI block="@form" trigger="btnGuardar" />       
                    </p:outputPanel>         
                </h:panelGroup>            
            </p:outputPanel>        
        </p:dialog>     

        <p:confirmDialog id="confirmDialog"
                         message="¿Desea publicar?"
                         header="Publicar" severity="alert" widgetVar="confirmDialog">
            <p:outputPanel styleClass="float-right" >
                <p:commandButton id="confirmDelete" value="#{msg.hconfirmar}" update="@form"
                                 oncomplete="PF('confirmDialog').hide()"
                                 styleClass="btn btn-primary"
                                 action="#{matrizComparativaBean.publicarSolicitud()}"  />
                <p:blockUI block="@form" trigger="confirmDelete"/>
                <p:commandLink id="cancelarDelete" value="#{msg.cancelar}"
                               onclick="PF('confirmDialog').hide()" styleClass="btn btn-link" />
            </p:outputPanel>
        </p:confirmDialog>

        <p:outputPanel styleClass="float-right" id='boton-pub'>
            <p:commandButton value="#{msg.publicar}" oncomplete="PF('confirmDialog').show()"
                             rendered="#{(matrizComparativaBean.entidadEnEdicion.splEstado != EnumEstadoSolicitudPlaza.PUBLICADA)and matrizComparativaBean.existeDocenteSeleccionado and sessionBean.operaciones.contains(ConstantesOperaciones.PUEDE_PUBLICAR_SOLICITUD_PLAZA) and (matrizComparativaBean.listaMatriz.size() gt 0) }"
                             update="form:confirmDialog"
                             id="btnAgregarCalificacion" styleClass="btn btn-primary"  />
            <p:blockUI block="@form" trigger="btnAgregarCalificacion" /> 
        </p:outputPanel>

        <p:dialog header="Plaza en que fue seleccionado" widgetVar="confirmSeleccionado" modal="true" showEffect="fade" hideEffect="fade" resizable="false">             
            <p:outputPanel id="confirmSeleccionadoDialog">                                                             
                <p:panel header="#{msg.plaza}" toggleSpeed="500" closeSpeed="500" 
                         styleClass="panel-filtro" collapsed="false">
                    <p:outputPanel styleClass="row">
                        <p:outputPanel styleClass="col-md-12">

                            <p:outputPanel styleClass="form-group row" >
                                <h:outputLabel value="#{msg.sede}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-10 ">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.plazaSeleccionada.splSedeSolicitante.sedCodigoNombre}"/>

                                </p:outputPanel>
                            </p:outputPanel>

                            <p:outputPanel styleClass="form-group row" >
                                <h:outputLabel value="#{msg.departamento}" styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4  ">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.plazaSeleccionada.splSedeSolicitante.sedDireccion.dirDepartamento.depNombre}"/>

                                </p:outputPanel>
                                <h:outputLabel value="#{msg.municipio}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4 ">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.plazaSeleccionada.splSedeSolicitante.sedDireccion.dirMunicipio.munNombre}"/>
                                </p:outputPanel>
                            </p:outputPanel>

                            <p:outputPanel styleClass="form-group row" 
                                           rendered="#{matrizComparativaBean.plazaSeleccionada.splTipoPlaza eq EnumTipoPlaza.D}">
                                <h:outputLabel value="#{msg.niveles}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.plazaSeleccionada.splNivel.nivNombre}"/>
                                </p:outputPanel>
                                <h:outputLabel value="#{msg.modalidadEstudio}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.plazaSeleccionada.splModalidadEducativa.modNombre}"/>
                                </p:outputPanel>
                            </p:outputPanel>

                            <p:outputPanel styleClass="form-group row">
                                <h:panelGroup
                                    rendered="#{matrizComparativaBean.plazaSeleccionada.splTipoPlaza eq EnumTipoPlaza.D}">
                                    <h:outputLabel value="#{msg.componentePlanEstudio}"  styleClass="col-sm-2 col-form-label"/>
                                    <p:outputPanel styleClass="col-sm-4">
                                        <h:outputText styleClass="form-control-plaintext" 
                                                      value="#{matrizComparativaBean.plazaSeleccionada.splComponentePlanEstudio.cpeNombre}"/>
                                    </p:outputPanel>    
                                </h:panelGroup>
                                <h:panelGroup 
                                    rendered="#{matrizComparativaBean.plazaSeleccionada.splTipoPlaza eq EnumTipoPlaza.A}">
                                    <h:outputLabel value="#{msg.tipoNombramiento}"  styleClass="col-sm-2 col-form-label"/>
                                    <p:outputPanel styleClass="col-sm-4">
                                        <h:outputText styleClass="form-control-plaintext" 
                                                      value="#{matrizComparativaBean.plazaSeleccionada.splTipoNombramiento.carNombre}"/>
                                    </p:outputPanel>
                                </h:panelGroup>

                                <h:outputLabel value="#{msg.jornadaLaboral}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.plazaSeleccionada.splJornada.jlaNombre}"/>
                                </p:outputPanel>
                            </p:outputPanel>

                            <p:outputPanel styleClass="form-group row">
                                <h:outputLabel value="#{msg.fechaIniPostulacion}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.plazaSeleccionada.splPostulacionInicio}" 
                                                  converter="#{localDateConverter}"/>
                                </p:outputPanel>
                                <h:outputLabel value="#{msg.fechaFinPostulacion}"  styleClass="col-sm-2 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-4">
                                    <h:outputText styleClass="form-control-plaintext" 
                                                  value="#{matrizComparativaBean.plazaSeleccionada.splPostulacionFin}" 
                                                  converter="#{localDateConverter}"/>
                                </p:outputPanel>
                            </p:outputPanel>


                        </p:outputPanel>

                    </p:outputPanel>
                </p:panel>	      
            </p:outputPanel>        
        </p:dialog>     
        
    </h:form>
</ui:composition>

