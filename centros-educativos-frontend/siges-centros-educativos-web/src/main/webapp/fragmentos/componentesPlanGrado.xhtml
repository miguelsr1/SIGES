<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"                 
                xmlns="http://www.w3.org/1999/xhtml"                 
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"                 
                xmlns:f="http://xmlns.jcp.org/jsf/core"                 
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:p="http://primefaces.org/ui">    
    <o:importConstants type="sv.gob.mined.siges.web.enumerados.EnumCalculoNotaInstitucional" />
    <o:importConstants type="sv.gob.mined.siges.web.enumerados.TipoComponentePlanEstudio" />
    <o:importConstants type="sv.gob.mined.siges.web.enumerados.EnumTipoFormula" />
    <h:form id="form"> 
        <f:passThroughAttribute name="autocomplete" value="off"/>

        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#{ConstantesPaginas.PLANES_ESTUDIO}.xhtml">#{msg.gestionPlanesEstudio}</a></li>
                <li class="breadcrumb-item active" aria-current="page">Detalle de Plan</li>
            </ol>
        </nav>

        <p:outputPanel styleClass="panel-titulo-pagina">
            <h2 class="page-header"><h:outputText value="#{msg.detalleDePlan}"/></h2>



            <div class="lineaHeader"><div class="verde"></div><div class="amarillo"></div><div class="rojo"></div><div class="celeste"></div></div>
        </p:outputPanel>

        <h3>
            <h:outputText  value="#{msg.hniveles} #{componentePlanGradoBean.planEstEnEdicion.pesRelacionModalidad.reaModalidadEducativa.modCiclo.cicNivel.nivNombre} y #{msg.hciclos} #{componentePlanGradoBean.planEstEnEdicion.pesRelacionModalidad.reaModalidadEducativa.modCiclo.cicNombre} "/>            
        </h3>

        <p:outputPanel id="formularioSede">
            <p:outputPanel styleClass="form-group row" id="fila_output_codigo">
                <h:outputLabel value="#{msg.codigo}" for="input_codigo" styleClass="col-sm-3 col-form-label"/>
                <p:outputPanel styleClass="col-sm-9">                            
                    <h:outputText id="input_codigo" value="#{componentePlanGradoBean.planEstEnEdicion.pesCodigo}" styleClass="form-control"/>
                    <h:message for="input_codigo" styleClass="msj-danger"/>
                </p:outputPanel> 
            </p:outputPanel>

            <p:outputPanel styleClass="form-group row" id="fila_input_nombre">                        
                <h:outputLabel value="#{msg.nombre}" for="input_nombre" styleClass="col-sm-3 col-form-label"/>                        
                <p:outputPanel styleClass="col-sm-9">                            
                    <h:outputText id="input_nombre" value="#{componentePlanGradoBean.planEstEnEdicion.pesNombre}" styleClass="form-control"/>
                    <h:message for="input_nombre" styleClass="msj-danger"/>
                </p:outputPanel>                    
            </p:outputPanel>

            <p:outputPanel styleClass="form-group row" id="fila_input_nivel">                        
                <h:outputLabel value="#{msg.hniveles}" for="input_nivel" styleClass="col-sm-3 col-form-label"/>                        
                <p:outputPanel styleClass="col-sm-9">                            
                    <h:outputText  id="input_nivel" value="#{componentePlanGradoBean.planEstEnEdicion.pesRelacionModalidad.reaModalidadEducativa.modCiclo.cicNivel.nivNombre}" styleClass="form-control"/>
                    <h:message for="input_mod_ed" styleClass="msj-danger"/>
                </p:outputPanel>                    
            </p:outputPanel>

            <p:outputPanel styleClass="form-group row" id="fila_input_ciclo">                        
                <h:outputLabel value="#{msg.hciclos}" for="input_ciclo" styleClass="col-sm-3 col-form-label"/>                        
                <p:outputPanel styleClass="col-sm-9">                            
                    <h:outputText id="input_ciclo" value="#{componentePlanGradoBean.planEstEnEdicion.pesRelacionModalidad.reaModalidadEducativa.modCiclo.cicNombre}" styleClass="form-control"/>
                    <h:message for="input_mod_ed" styleClass="msj-danger"/>
                </p:outputPanel>                    
            </p:outputPanel>

            <p:outputPanel styleClass="form-group row" id="fila_input_mod_ed">                        
                <h:outputLabel value="#{msg.hmodalidadEducativa}" for="input_mod_ed" styleClass="col-sm-3 col-form-label"/>                        
                <p:outputPanel styleClass="col-sm-9">                            
                    <h:outputText  id="input_mod_ed" value="#{componentePlanGradoBean.planEstEnEdicion.pesRelacionModalidad.reaModalidadEducativa.modNombre}" styleClass="form-control"/>
                    <h:message for="input_mod_ed" styleClass="msj-danger"/>
                </p:outputPanel>                    
            </p:outputPanel>



            <p:outputPanel styleClass="form-group row" id="fila_input_mod_at">                        
                <h:outputLabel value="#{msg.hmodalidadAtencion}" for="input_mod_at" styleClass="col-sm-3 col-form-label"/>                        
                <p:outputPanel styleClass="col-sm-9">                            
                    <h:outputText  id="input_mod_at" value="#{componentePlanGradoBean.planEstEnEdicion.pesRelacionModalidad.reaModalidadAtencion.matNombre}" styleClass="form-control"/>
                    <h:message for="input_mod_at" styleClass="msj-danger"/>
                </p:outputPanel>                    
            </p:outputPanel>

            <p:outputPanel styleClass="form-group row" id="fila_input_opcion" rendered="#{componentePlanGradoBean.planEstEnEdicion.pesOpcion!=null}">                        
                <h:outputLabel value="#{msg.hopcion}" for="input_mod_at" styleClass="col-sm-3 col-form-label"/>                        
                <p:outputPanel styleClass="col-sm-9">                            
                    <h:outputText  id="input_opcion" value="#{componentePlanGradoBean.planEstEnEdicion.pesOpcion.opcNombre}" styleClass="form-control"/>
                    <h:message for="input_opcion" styleClass="msj-danger"/>
                </p:outputPanel>                    
            </p:outputPanel>

            <p:outputPanel styleClass="form-group row" id="fila_input_prog_ed" rendered="#{componentePlanGradoBean.planEstEnEdicion.pesProgramaEducativo!=null}">                        
                <h:outputLabel value="#{msg.programa}" for="input_prog_ed" styleClass="col-sm-3 col-form-label"/>                        
                <p:outputPanel styleClass="col-sm-9">                            
                    <h:outputText  id="input_prog_ed" value="#{componentePlanGradoBean.planEstEnEdicion.pesProgramaEducativo.pedNombre}" styleClass="form-control"/>
                    <h:message for="input_prog_ed" styleClass="msj-danger"/>
                </p:outputPanel>                    
            </p:outputPanel>


        </p:outputPanel>

        <p:outputPanel id="pnlResultado" >
            <ui:repeat value="#{componentePlanGradoBean.listaGrados}" var="relacion">
                <p:outputPanel>
                    <p:outputPanel styleClass="float-right" style="padding-bottom:5px">
                        <p:commandButton value="#{msg.hdatosGrado}" icon="glyphicon glyphicon-plus" 
                                         action="#{componentePlanGradoBean.agregarFormula(relacion)}" 
                                         rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.CREAR_REL_GRADO_PLAN_ESTUDIO)}"
                                         update=":form:itemDetailFormula" oncomplete="PF('itemDialogFormula').show()"  
                                         styleClass="btn btn-secondary" />
                        <p:commandButton value="#{msg.nuevoCpe}" icon="glyphicon glyphicon-plus" 
                                         action="#{componentePlanGradoBean.agregar(relacion)}" 
                                         rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.CREAR_COMPONENTES_GRADO)}"
                                         update=":form:itemDetail" oncomplete="PF('itemDialog').show()"  
                                         styleClass="btn btn-secondary" />
                    </p:outputPanel>
                    <p:dataTable                         
                        var="elem"                          
                        value="#{relacion.graCompPlanGrado}"                          
                        emptyMessage="#{msg.noHayResultados}"                       
                        reflow="true" >
                        <f:facet name="header">
                            <p:outputPanel id="pnlHeaderTabla" styleClass="row">
                                <p:outputPanel styleClass="col-md-6">
                                    <h3><h:outputText value="#{relacion.graNombre}" /></h3>
                                </p:outputPanel>
                            </p:outputPanel>
                        </f:facet>
                        <p:column headerText="Componente Plan Estudio" sortBy="#{elem.cpgNombrePublicable}">
                            <h:outputText value="#{elem.cpgNombrePublicable}" />
                        </p:column>   
                        <p:column headerText="#{msg.prom}" sortBy="#{elem.cpgObjetoPromocion}">
                            <h:outputText value="#{elem.cpgObjetoPromocion}" converter="#{booleanConverter}" />
                        </p:column>
                        <p:column headerText="#{msg.hhorasSemanales}" sortBy="#{elem.cpgCantidadHorasSemanales}">
                            <h:outputText value="#{elem.cpgCantidadHorasSemanales}" />
                        </p:column>
                        <p:column id="colPerCal"  sortBy="#{elem.cpgPeriodosCalificacion}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.percal}"/>
                                <p:tooltip position="bottom" value="#{msg.hcpgPeriodosCalificacion}" for="colPerCal" />
                            </f:facet>     
                            <h:outputText value="#{elem.cpgPeriodosCalificacion}" />
                        </p:column>
                        <p:column id="colPP" sortBy="#{elem.cpgCantidadPrimeraPrueba}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.pp}"/>
                                <p:tooltip position="bottom" value="#{msg.hcpgPrimeraPrueba}" for="colPP" />
                            </f:facet> 
                            <h:outputText value="#{elem.cpgCantidadPrimeraPrueba}"/>
                        </p:column>
                        <p:column id="colPS"  sortBy="#{elem.cpgCantidadPrimeraSuficiencia}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.ps}"/>
                                <p:tooltip position="bottom" value="#{msg.hcpgPrimeraSuficiencia}" for="colPS" />
                            </f:facet> 
                            <h:outputText value="#{elem.cpgCantidadPrimeraSuficiencia}"/>
                        </p:column>
                        <p:column id="colSP"  sortBy="#{elem.cpgCantidadSegundaPrueba}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.sp}"/>
                                <p:tooltip position="bottom" value="#{msg.hcpgSegundaPrueba}" for="colSP" />
                            </f:facet> 
                            <h:outputText value="#{elem.cpgCantidadSegundaPrueba}"/>
                        </p:column>
                        <p:column id="colSS" sortBy="#{elem.cpgCantidadSegundaSuficiencia}">
                            <f:facet name="header">
                                <h:outputText value="#{msg.ss}"/>
                                <p:tooltip position="bottom" value="#{msg.hcpgSegundaSuficiencia}" for="colSS" />
                            </f:facet> 
                            <h:outputText value="#{elem.cpgCantidadSegundaSuficiencia}"/>
                        </p:column>
                        <p:column headerText="#{msg.horden}" sortBy="#{elem.cpgOrden}">
                            <h:outputText value="#{elem.cpgOrden}" />
                        </p:column>
                        <p:column headerText="#{msg.hescalaCalificacion}" sortBy="#{elem.cpgEscalaCalificacion.ecaNombre}">
                            <h:outputText value="#{elem.cpgEscalaCalificacion.ecaNombre}"/>
                        </p:column>
                        <p:column styleClass="columnaAcciones" exportable="false" rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.ACTUALIZAR_COMPONENTES_GRADO)}">
                            <p:commandButton update=":form:itemDetail" oncomplete="PF('itemDialog').show()" icon="glyphicon glyphicon-pencil" styleClass="btn btn-icono" title="#{msg.editar}" action="#{componentePlanGradoBean.actualizar(elem)}"/>
                        </p:column>
                        <p:column styleClass="columnaAcciones" exportable="false" rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.ELIMINAR_COMPONENTES_GRADO)}">
                            <p:commandButton oncomplete="PF('confirmDialog').show()" update=":form:confirmDialog" icon="glyphicon glyphicon-trash "  styleClass="btn btn-icono rojo" title="#{msg.eliminar}" action="#{componentePlanGradoBean.prepararParaEliminar(elem)}"/>
                        </p:column>
                    </p:dataTable>
                </p:outputPanel>
            </ui:repeat>
        </p:outputPanel>


        <h:panelGroup styleClass="volverLink" layout="block">
            <p:commandLink value="#{msg.volver}" onclick="history.go(-1)" styleClass="btn btn-link"/> 
        </h:panelGroup>

        <p:confirmDialog id="confirmDialog"
                         message="#{msg.textoConfirmacionEliminacion}"
                         header="#{msg.confirmacionEliminacion}" severity="alert" widgetVar="confirmDialog">
            <p:outputPanel styleClass="float-right" >
                <p:messages id="eliminarMsg" showDetail="true" globalOnly="false" for="eliminarMsg" closable="true"/>
                <p:commandButton id="confirmDelete" value="#{msg.hconfirmar}" update="pnlResultado"
                                 oncomplete="PF('confirmDialog').hide()"
                                 rendered="#{componentePlanGradoBean.componenteSePuedeEliminar}"
                                 styleClass="btn btn-primary"
                                 action="#{componentePlanGradoBean.eliminar()}"  />
                <p:blockUI block="@form" trigger="confirmDelete"/>
                <p:commandLink id="cancelarDelete" value="#{msg.cancelar}"
                               onclick="PF('confirmDialog').hide()" styleClass="btn btn-link" />
            </p:outputPanel>
        </p:confirmDialog>


        <p:dialog header="#{msg.hcomponentePlanGrado}" widgetVar="itemDialog" modal="true" 
                  showEffect="fade" hideEffect="fade" resizable="false" style="min-width: 53%;">  

            <p:outputPanel id="itemDetail">   
                <p:messages id="popupmsg" showDetail="true" globalOnly="false" for="popupmsg" closable="true"/>   




                <p:tabView>
                    <p:tab title="#{msg.datosGenerales}">
                        <p:outputPanel styleClass="form-group row" id="fila_combo_tipo_sede">
                            <h:outputLabel value="#{msg.tipo}"  for="input_cpgtcPlanEstudio" styleClass="col-sm-4 col-md-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-8 col-md-9" >
                                <h:selectOneMenu id="input_cpgtcPlanEstudio"  value="#{componentePlanGradoBean.comboTiposCompPlanEst.selected}" 
                                                 styleClass="form-control dropdown texto-medio">
                                    <f:selectItems value="#{componentePlanGradoBean.comboTiposCompPlanEst.items}"/>
                                    <p:ajax event="change" listener="#{componentePlanGradoBean.cargarComponentePlanEstudio()}" 
                                            update="fila_input_componente_plan_estudio input_tipo_prueba"/>
                                </h:selectOneMenu>                                
                            </p:outputPanel>
                        </p:outputPanel> 

                        <p:outputPanel styleClass="form-group row" id="fila_input_componente_plan_estudio">
                            <h:outputLabel value="Componente Plan Estudio:" for="input_cpgComponentePlanEstudio" 
                                           styleClass="col-sm-3 col-form-label obligatorio"/>
                            <p:outputPanel styleClass="col-sm-8">
                                <p:autoComplete id="input_cpgComponentePlanEstudio"  
                                                disabled="#{componentePlanGradoBean.comboTiposCompPlanEst.selectedT==null}" 
                                                styleClass="form-control texto-medio"
                                                value="#{componentePlanGradoBean.componentesPlanEstudioSeleccionado}" 
                                                completeMethod="#{componentePlanGradoBean.completePlanEstudio}"
                                                var="cpe" itemLabel="#{cpe.cpeNombre}" 
                                                itemValue="#{cpe}" 
                                                widgetVar="b_inst_resp_autocomplete"
                                                forceSelection="true"
                                                maxResults="10"
                                                queryDelay="500"
                                                multiple="false"
                                                converter="#{componentePlanEstudioConverter}"
                                                placeholder="#{msg.autoCompleteEmptyItem}" >
                                </p:autoComplete>  
                            </p:outputPanel>                    
                        </p:outputPanel>  

                        <p:outputPanel styleClass="form-group row" id="fila_combo_tipo_escala">
                            <h:outputLabel value="#{msg.escalaCalificacion}" for="combo_tipo_escala" styleClass="col-sm-3 col-form-label obligatorio"/>
                            <p:outputPanel styleClass="col-sm-8">
                                <h:selectOneMenu id="input_cpgEscalaCalificacion" value="#{componentePlanGradoBean.comboEscalaCalificacion.selected}" styleClass="form-control dropdown texto-medio">
                                    <f:selectItems value="#{componentePlanGradoBean.comboEscalaCalificacion.items}" />  
                                    <p:ajax event="change" listener="#{componentePlanGradoBean.eleccionEscalaCalificacion()}" update="fila_input_calculo_nota_institucional fila_precision"/>
                                </h:selectOneMenu>  
                            </p:outputPanel>                    
                        </p:outputPanel>  

                        <p:outputPanel styleClass="form-group row" id="fila_input_horas_semanales">
                            <h:outputLabel value="#{msg.horasSemanales}" for="input_horas_semanales" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <p:inputNumber autocomplete="off" id="input_horas_semanales" decimalPlaces="0" value="#{componentePlanGradoBean.entidadEnEdicion.cpgCantidadHorasSemanales}" styleClass="form-control texto-extra-corto"/>
                                <h:message for="input_horas_semanales" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_input_nombre_publicable">
                            <h:outputLabel value="#{msg.nombre}" for="input_nombre_publicable" styleClass="col-sm-3 col-form-label obligatorio"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <h:inputText autocomplete="off" id="input_nombre_publicable" 
                                             value="#{componentePlanGradoBean.entidadEnEdicion.cpgNombrePublicable}" 
                                             styleClass="form-control texto-medio"/>

                                <h:message for="input_nombre_publicable" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_output_cpgPeriodosCalificacion">
                            <h:outputLabel value="#{msg.cpgPeriodosCalificacion}" for="input_cpgPeriodosCalificacion" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <p:inputNumber autocomplete="off" decimalPlaces="0" id="input_cpgPeriodosCalificacion" 
                                               value="#{componentePlanGradoBean.entidadEnEdicion.cpgPeriodosCalificacion}" 
                                               styleClass="form-control texto-extra-corto"/>
                                <h:message for="input_cpgPeriodosCalificacion" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_output_cpgCantidadPrimeraPrueba">
                            <h:outputLabel value="#{msg.cpgCantidadPrimeraPrueba}" for="input_cpgCantidadPrimeraPrueba" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <p:inputNumber  maxValue="99" decimalPlaces="0" emptyValue="zero" autocomplete="off" id="input_cpgCantidadPrimeraPrueba"
                                                value="#{componentePlanGradoBean.entidadEnEdicion.cpgCantidadPrimeraPrueba}" 
                                                styleClass="form-control texto-extra-corto"/>
                                <h:message for="input_cpgCantidadPrimeraPrueba" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_output_cpgCantidadPrimeraSuficiencia">
                            <h:outputLabel value="#{msg.cpgCantidadPrimeraSuficiencia}" for="input_codigo" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <p:inputNumber  maxValue="99" decimalPlaces="0" autocomplete="off" id="input_cpgCantidadPrimeraSuficiencia" 
                                                value="#{componentePlanGradoBean.entidadEnEdicion.cpgCantidadPrimeraSuficiencia}" 
                                                styleClass="form-control  texto-extra-corto"/>
                                <h:message for="input_cpgCantidadPrimeraSuficiencia" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_output_cpgCantidadSegundaPrueba">
                            <h:outputLabel value="#{msg.cpgCantidadSegundaPrueba}" for="input_codigo" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <p:inputNumber  maxValue="99" decimalPlaces="0" autocomplete="off" id="input_cpgCantidadSegundaPrueba" 
                                                value="#{componentePlanGradoBean.entidadEnEdicion.cpgCantidadSegundaPrueba}" 
                                                styleClass="form-control texto-extra-corto"/>
                                <h:message for="input_cpgCantidadSegundaPrueba" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>                  

                        <p:outputPanel styleClass="form-group row" id="fila_output_cpgCantidadSegundaSuficiencia">
                            <h:outputLabel value="#{msg.cpgCantidadSegundaSuficiencia}" for="input_cpgCantidadSegundaSuficiencia" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <p:inputNumber  maxValue="99" decimalPlaces="0" autocomplete="off" id="input_cpgCantidadSegundaSuficiencia" 
                                                value="#{componentePlanGradoBean.entidadEnEdicion.cpgCantidadSegundaSuficiencia}" 
                                                styleClass="form-control texto-extra-corto"/>
                                <h:message for="input_cpgCantidadSegundaSuficiencia" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>                           

                        <p:outputPanel styleClass="form-group row" >   
                            <h:outputText value="#{msg.cpgObjetoPromocion}" styleClass="col-sm-3 col-form-label"/>
                            <div class="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox id="input_habilitado" styleClass="form-check-input" value="#{componentePlanGradoBean.entidadEnEdicion.cpgObjetoPromocion}" />
                                    <h:outputLabel for="input_habilitado" styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </div>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_input_calculo_nota_institucional" >
                            <h:outputLabel value="#{msg.calculoNotaInstitucional}" for="input_cpgCalculoNotaInstitucional" styleClass="col-sm-3 col-form-label obligatorio"/>
                            <p:outputPanel styleClass="col-sm-8">
                                <h:selectOneMenu id="input_cpgCalculoNotaInstitucional" value="#{componentePlanGradoBean.comboCalculoNotaInstitucional.selected}" disabled="#{componentePlanGradoBean.comboEscalaCalificacion.selectedT==null}" styleClass="form-control dropdown texto-medio">
                                    <f:selectItems value="#{componentePlanGradoBean.comboCalculoNotaInstitucional.items}"/>
                                    <p:ajax event="change" update="fila_precision fila_input_funcion_redondeo"/>
                                </h:selectOneMenu> 
                            </p:outputPanel>                    
                        </p:outputPanel>  

                        <p:outputPanel  id="fila_precision">
                            <p:outputPanel styleClass="form-group row" rendered="#{componentePlanGradoBean.comboEscalaCalificacion.selectedT!=null and componentePlanGradoBean.esEscalaNumerica}" >
                                <h:outputLabel value="#{msg.precisionNotaInstitucional}" for="input_cpgprecision" styleClass="col-sm-3 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-9">                            
                                    <p:inputNumber  maxValue="5" decimalPlaces="0" autocomplete="off" id="input_cpgprecision" 
                                                    value="#{componentePlanGradoBean.entidadEnEdicion.cpgPrecision}" 
                                                    styleClass="form-control texto-extra-corto"/>
                                </p:outputPanel> 
                            </p:outputPanel>
                        </p:outputPanel>   

                        <p:outputPanel  id="fila_input_funcion_redondeo">
                            <p:outputPanel styleClass="form-group row" rendered="#{componentePlanGradoBean.comboCalculoNotaInstitucional.selectedT eq EnumCalculoNotaInstitucional.PROM}">
                                <h:outputLabel value="#{msg.funcionRedondeo}" for="input_cpgFuncionRedondeo" styleClass="col-sm-3 col-form-label obligatorio"/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="input_cpgFuncionRedondeo" value="#{componentePlanGradoBean.comboFuncionRedondeo.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFuncionRedondeo.items}"/>
                                    </h:selectOneMenu> 
                                </p:outputPanel>                    
                            </p:outputPanel>
                        </p:outputPanel>  

                        <p:outputPanel  id="fila_input_formula">
                            <p:outputPanel styleClass="form-group row" >
                                <h:outputLabel value="#{msg.formulaAprobacion}" for="input_formula" styleClass="col-sm-3 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="input_formula" value="#{componentePlanGradoBean.comboFormulasComponentePlanGrado.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasComponentePlanGrado.items}"/>
                                        <p:ajax update="fila_cpe_aprobacion_param"  listener="#{componentePlanGradoBean.seleccionarAprobacion}" />
                                    </h:selectOneMenu> 
                                </p:outputPanel>                    
                            </p:outputPanel>
                        </p:outputPanel> 

                        <p:outputPanel id="fila_cpe_aprobacion_param">                         
                            <p:outputPanel styleClass="form-group row" rendered="#{componentePlanGradoBean.entidadEnEdicion.cpgFormula.fomTipoFormula eq EnumTipoFormula.COMPONENTE_PLAN_ESTUDIO_PARAM}" >
                                <h:outputLabel value="#{msg.parametroFormulaAprobacion}" for="combo_aprobacion_param" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_aprobacion_param" value="#{componentePlanGradoBean.parametroAprobacion.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.parametroAprobacion.items}" />    

                                    </h:selectOneMenu>  
                                </p:outputPanel>  
                            </p:outputPanel>  
                        </p:outputPanel>

                        <p:outputPanel id="fila_cpe_combo_habilitacion_pp">
                            <p:outputPanel styleClass="form-group row" >
                                <h:outputLabel value="#{msg.formulaHabilitacionPP}" for="combo_cpe_habilitacion_pp" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_cpe_habilitacion_pp" value="#{componentePlanGradoBean.comboFormulasPP.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasPP.items}" />    
                                        <p:ajax update="fila_cpe_parametro_pp"  listener="#{componentePlanGradoBean.seleccionarFormulaPP}" />
                                    </h:selectOneMenu>  
                                </p:outputPanel>                    
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel id="fila_cpe_parametro_pp">                         
                            <p:outputPanel styleClass="form-group row" rendered="#{componentePlanGradoBean.entidadEnEdicion.cpgFormulaHabilitacionPP.fomTipoFormula eq EnumTipoFormula.PRUEBA_EXTRAORDINARIA_PARAM}" >
                                <h:outputLabel value="#{msg.parametroFormulaPP}" for="combo_parametro_pp" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_parametro_pp" value="#{componentePlanGradoBean.parametroFormulaPP.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.parametroFormulaPP.items}" />     

                                    </h:selectOneMenu>  
                                </p:outputPanel>  
                            </p:outputPanel>  
                        </p:outputPanel>

                        <p:outputPanel  id="fila_cpe_combo_habilitacion_ps">
                            <p:outputPanel styleClass="form-group row" >
                                <h:outputLabel value="#{msg.formulaHabilitacionPS}" for="combo_cpe_habilitacion_ps" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_cpe_habilitacion_ps" value="#{componentePlanGradoBean.comboFormulasPS.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasPS.items}" />
                                        <p:ajax update="fila_cpe_parametro_ps"  listener="#{componentePlanGradoBean.seleccionarFormulaPS}" />
                                    </h:selectOneMenu>  
                                </p:outputPanel>                    
                            </p:outputPanel>
                        </p:outputPanel>    

                        <p:outputPanel id="fila_cpe_parametro_ps">
                            <p:outputPanel styleClass="form-group row" rendered="#{componentePlanGradoBean.entidadEnEdicion.cpgFormulaHabilitacionPS.fomTipoFormula eq EnumTipoFormula.PRUEBA_EXTRAORDINARIA_PARAM}">
                                <h:outputLabel value="#{msg.parametroFormulaPS}" for="combo_parametro_ps" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_parametro_ps" value="#{componentePlanGradoBean.parametroFormulaPS.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.parametroFormulaPS.items}" />           
                                    </h:selectOneMenu>  
                                </p:outputPanel>  
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel  id="fila_cpe_combo_habilitacion_sp"> 
                            <p:outputPanel styleClass="form-group row" >
                                <h:outputLabel value="#{msg.formulaHabilitacionSP}" for="combo_cpe_habilitacion_sp" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_cpe_habilitacion_sp" value="#{componentePlanGradoBean.comboFormulasSP.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasSP.items}" />   
                                        <p:ajax update="fila_cpe_parametro_sp"  listener="#{componentePlanGradoBean.seleccionarFormulaSP}" />
                                    </h:selectOneMenu>  
                                </p:outputPanel>                    
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel id="fila_cpe_parametro_sp">
                            <p:outputPanel styleClass="form-group row" rendered="#{componentePlanGradoBean.entidadEnEdicion.cpgFormulaHabilitacionSP.fomTipoFormula eq EnumTipoFormula.PRUEBA_EXTRAORDINARIA_PARAM}" >
                                <h:outputLabel value="#{msg.parametroFormulaSP}" for="combo_parametro_sp" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_parametro_sp" value="#{componentePlanGradoBean.parametroFormulaSP.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.parametroFormulaSP.items}" />           
                                    </h:selectOneMenu>  
                                </p:outputPanel>  
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel  id="fila_cpe_combo_habilitacion_ss">   
                            <p:outputPanel styleClass="form-group row" >
                                <h:outputLabel value="#{msg.formulaHabilitacionSS}" for="combo_cpe_habilitacion_ss" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_cpe_habilitacion_ss" value="#{componentePlanGradoBean.comboFormulasSS.selected}" styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasSS.items}" />     
                                        <p:ajax update="fila_cpe_parametro_ss"  listener="#{componentePlanGradoBean.seleccionarFormulaSS}" />
                                    </h:selectOneMenu>  
                                </p:outputPanel>                    
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel id="fila_cpe_parametro_ss">
                            <p:outputPanel styleClass="form-group row" rendered="#{componentePlanGradoBean.entidadEnEdicion.cpgFormulaHabilitacionSS.fomTipoFormula eq EnumTipoFormula.PRUEBA_EXTRAORDINARIA_PARAM}" >
                                <h:outputLabel value="#{msg.parametroFormulaSS}" for="combo_parametro_ss" styleClass="col-sm-3 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_parametro_ss" value="#{componentePlanGradoBean.parametroFormulaSS.selected}"  styleClass="form-control dropdown texto-medio">
                                        <f:selectItems value="#{componentePlanGradoBean.parametroFormulaSS.items}" />           
                                    </h:selectOneMenu>  
                                </p:outputPanel>  
                            </p:outputPanel>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_input_codigo_sirai">
                            <h:outputLabel value="#{msg.codigoSirai}" for="input_codigo_sirai" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <h:inputText autocomplete="off" id="input_codigo_sirai" 
                                             value="#{componentePlanGradoBean.entidadEnEdicion.cpgCodigoSirai}" 
                                             styleClass="form-control texto-medio"/>

                                <h:message for="input_codigo_sirai" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>    

                        <h:panelGroup id="input_tipo_prueba">
                            <p:outputPanel styleClass="form-group row" id="fila_input_codigo_externo" >
                                <h:outputLabel value="#{msg.codigoExterno}" for="input_codigo_externo" 
                                               styleClass="col-sm-3 col-form-label"/>
                                <p:outputPanel styleClass="col-sm-9">                            
                                    <p:inputNumber autocomplete="off" id="input_codigo_externo" disabled="#{true}"
                                                   value="#{componentePlanGradoBean.entidadEnEdicion.cpgComponentePlanEstudio.cpeCodigoExterno}" 
                                                   styleClass="form-control texto-medio" thousandSeparator="" decimalPlaces="0"/>
                                </p:outputPanel> 
                            </p:outputPanel>
                        </h:panelGroup>

                        <p:outputPanel styleClass="form-group row" >   
                            <h:outputText value="#{msg.calificacionIngresadaCE}" styleClass="col-sm-3 col-form-label"/>
                            <div class="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox id="input_calificacion_ingresada_ce" 
                                                             styleClass="form-check-input" 
                                                             value="#{componentePlanGradoBean.entidadEnEdicion.cpgCalificacionIngresadaCE}" />
                                    <h:outputLabel for="input_calificacion_ingresada_ce" styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </div>
                        </p:outputPanel>


                        <p:outputPanel styleClass="form-group row" id="fila_input_orden_componente">
                            <h:outputLabel value="#{msg.orden}" for="input_orden_componente" 
                                           styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">                            
                                <p:inputNumber  maxValue="999" decimalPlaces="0" autocomplete="off" id="input_orden_componente" 
                                                value="#{componentePlanGradoBean.entidadEnEdicion.cpgOrden}" 
                                                styleClass="form-control texto-extra-corto"/>
                                <h:message for="input_orden_componente" styleClass="msj-danger"/>
                            </p:outputPanel> 
                        </p:outputPanel>    
                        
                        <p:outputPanel styleClass="form-group row" >   
                            <h:outputText value="¿Aplica a gráfica de evolución del estudiante?" styleClass="col-sm-3 col-form-label"/>
                            <div class="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox id="input_aplica_ev" styleClass="form-check-input" value="#{componentePlanGradoBean.entidadEnEdicion.cpgAplicaGraficaEvolucion}" />
                                    <h:outputLabel for="input_aplica_ev" styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </div>
                        </p:outputPanel>
                        
                    </p:tab>
                    <p:tab title="#{msg.otrosDatos}">
                        <p:outputPanel styleClass="form-group row" id="fila_input_contenido_tem">
                            <h:outputLabel value="#{msg.contenidoTematico}" for="input_contenido_tem" styleClass="col-sm-3 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-9">
                                <p:scrollPanel style="height: 100%;width: 100%;padding-bottom: 0.2em;padding-top: 0.2em;">
                                    <p:inputTextarea id="input_contenido_tem" styleClass="form-control" 
                                                     value="#{componentePlanGradoBean.entidadEnEdicion.cpgContenidoTematico}" 
                                                     rows="20"
                                                     counter="displayContenidoTematico" maxlength="4000" 
                                                     counterTemplate="{0} caracteres restantes." />
                                </p:scrollPanel>
                                <h:outputText id="displayContenidoTematico" />
                                <h:message for="input_contenido_tem" styleClass="msj-danger"/>
                            </p:outputPanel>                    
                        </p:outputPanel>
                    </p:tab>
                </p:tabView>
                <br/>
                <p:outputPanel styleClass="control-group" >
                    <p:outputPanel styleClass="float-right">
                        <p:commandButton id="btnGuardar"  value="#{msg.guardar}" action="#{componentePlanGradoBean.guardar()}" update="form:pnlResultado form:itemDetail" styleClass="btn btn-primary" icon="glyphicon glyphicon-floppy-disk"/>                             
                        <p:commandLink value="#{msg.cancelar}" oncomplete="PF('itemDialog').hide();" update=":form:itemDetail" styleClass="btn btn-link"/>                        
                    </p:outputPanel>                    
                </p:outputPanel>                     
                <p:blockUI block="itemDetail" trigger="btnGuardar" />  
            </p:outputPanel>        
        </p:dialog>       

        <p:dialog header="#{msg.hdatosGrado}" id="popupOpc" widgetVar="itemDialogFormula" modal="true" showEffect="fade" hideEffect="fade" resizable="false">             
            <p:outputPanel id="itemDetailFormula">                                                             
                <h:panelGroup rendered="#{not empty componentePlanGradoBean.relGradoPlanEst}"  >                    
                    <p:messages id="popupmsg2" showDetail="true" globalOnly="false" for="popupmsg2" closable="true"/>                
                    <p:outputPanel id="formularioOpcion">                                               
                        <p:outputPanel styleClass="form-group row" id="fila_input_grado" >                        
                            <h:outputLabel value="#{msg.grado}" for="input_grado"  styleClass="col-sm-4 col-form-label"/>                        
                            <p:outputPanel styleClass="col-sm-8">                            
                                <h:inputText autocomplete="off" id="input_grado" disabled="true" styleClass="form-control" value="#{componentePlanGradoBean.relGradoPlanEst.rgpGradoFk.graNombre}"/>                        
                            </p:outputPanel>                    
                        </p:outputPanel>


                        <p:outputPanel styleClass="form-group row" >   
                            <h:outputText value="#{msg.considerarOrden}" styleClass="col-sm-4 col-form-label"/>
                            <div class="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox id="input_considerar_orden" styleClass="form-check-input" 
                                                             value="#{componentePlanGradoBean.relGradoPlanEst.rgpConsiderarOrden}" />
                                    <h:outputLabel for="input_considerar_orden" styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </div>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_combo_tipo_escala">
                            <h:outputLabel value="#{msg.formulaAprobacionGrado}" for="combo_tipo_escala" styleClass="col-sm-4 col-form-label "/>
                            <p:outputPanel styleClass="col-sm-8">
                                <h:selectOneMenu id="combo_tipo_escala" value="#{componentePlanGradoBean.comboFormulasGrado.selected}" styleClass="form-control">
                                    <f:selectItems value="#{componentePlanGradoBean.comboFormulasGrado.items}" />           
                                </h:selectOneMenu>  
                            </p:outputPanel>                    
                        </p:outputPanel>

                        <p:fieldset legend="#{msg.formulasDefectoComponentes}">
                            <p:outputPanel styleClass="form-group row" id="fila_combo_habilitacion_pp">
                                <h:outputLabel value="#{msg.formulaHabilitacionPP}" for="combo_habilitacion_pp" styleClass="col-sm-4 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_habilitacion_pp" value="#{componentePlanGradoBean.comboFormulasPP.selected}" styleClass="form-control">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasPP.items}" />           
                                    </h:selectOneMenu>  
                                </p:outputPanel>                    
                            </p:outputPanel>

                            <p:outputPanel styleClass="form-group row" id="fila_combo_habilitacion_ps">
                                <h:outputLabel value="#{msg.formulaHabilitacionPS}" for="combo_habilitacion_ps" styleClass="col-sm-4 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_habilitacion_ps" value="#{componentePlanGradoBean.comboFormulasPS.selected}" styleClass="form-control">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasPS.items}" />           
                                    </h:selectOneMenu>  
                                </p:outputPanel>                    
                            </p:outputPanel>

                            <p:outputPanel styleClass="form-group row" id="fila_combo_habilitacion_sp">
                                <h:outputLabel value="#{msg.formulaHabilitacionSP}" for="combo_habilitacion_sp" styleClass="col-sm-4 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_habilitacion_sp" value="#{componentePlanGradoBean.comboFormulasSP.selected}" styleClass="form-control">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasSP.items}" />           
                                    </h:selectOneMenu>  
                                </p:outputPanel>                    
                            </p:outputPanel>

                            <p:outputPanel styleClass="form-group row" id="fila_combo_habilitacion_ss">
                                <h:outputLabel value="#{msg.formulaHabilitacionSS}" for="combo_habilitacion_ss" styleClass="col-sm-4 col-form-label "/>
                                <p:outputPanel styleClass="col-sm-8">
                                    <h:selectOneMenu id="combo_habilitacion_ss" value="#{componentePlanGradoBean.comboFormulasSS.selected}" styleClass="form-control">
                                        <f:selectItems value="#{componentePlanGradoBean.comboFormulasSS.items}" />           
                                    </h:selectOneMenu>  
                                </p:outputPanel>                    
                            </p:outputPanel>
                        </p:fieldset>    

                        <p:outputPanel styleClass="form-group row" >   
                            <h:outputText value="#{msg.requiereValidacionAcademica}" styleClass="col-sm-4 col-form-label"/>
                            <div class="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox id="input_requiere_validacion_academica" styleClass="form-check-input" 
                                                             value="#{componentePlanGradoBean.relGradoPlanEst.rgpRequiereValidacionAcademica}" >
                                        <p:ajax process="@this" event="change"
                                                listener="#{componentePlanGradoBean.cambioReqValidacionAcademica}" 
                                                update="fila_input_cal_sin_mat_validada fila_input_permite_validar_mat"/>
                                    </h:selectBooleanCheckbox>
                                    <h:outputLabel for="input_requiere_validacion_academica" styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </div>
                        </p:outputPanel>											   

                        <p:outputPanel styleClass="form-group row" id="fila_input_cal_sin_mat_validada">
                            <h:outputLabel value="#{msg.permiteCalificarSinMatValidada}" for="input_cal_sin_mat_validada" styleClass="col-sm-4 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox  styleClass="form-check-input" 
                                                              id="input_cal_sin_mat_validada" 
                                                              value="#{componentePlanGradoBean.relGradoPlanEst.rgpPermiteCalificarSinMatValidada}" 
                                                              disabled="#{!componentePlanGradoBean.relGradoPlanEst.rgpRequiereValidacionAcademica}"/>
                                    <h:outputLabel styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </p:outputPanel>                    
                        </p:outputPanel>


                        <p:outputPanel styleClass="form-group row" id="fila_input_permite_validar_mat" >   
                            <h:outputText value="#{msg.permiteValidarMatSinNIE}" styleClass="col-sm-4 col-form-label"/>
                            <div class="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox id="input_permite_validar_mat" styleClass="form-check-input" 
                                                             value="#{componentePlanGradoBean.relGradoPlanEst.rgpPermiteValidarMatriculaSinNIE}"  
                                                             disabled="#{!componentePlanGradoBean.relGradoPlanEst.rgpRequiereValidacionAcademica}"/>
                                    <h:outputLabel for="input_permite_validar_mat" styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </div>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_input_cal_con_mat_prov">
                            <h:outputLabel value="#{msg.permiteCalificarConMatriculaProvisional}" for="input_cal_con_mat_prov" styleClass="col-sm-4 col-form-label"/>

                            <p:outputPanel styleClass="col-sm-8">
                                <p:outputPanel styleClass="form-check">

                                    <h:selectBooleanCheckbox  styleClass="form-check-input" value="#{componentePlanGradoBean.relGradoPlanEst.rgpPermiteCalificarConMatProvisional}" />
                                    <h:outputLabel styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </p:outputPanel>                    
                        </p:outputPanel>



                        <p:outputPanel styleClass="form-group row" >   
                            <h:outputText value="#{msg.habilitado}" styleClass="col-sm-4 col-form-label"/>
                            <div class="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox id="input_habilitado" styleClass="form-check-input" value="#{componentePlanGradoBean.relGradoPlanEst.rgpHabilitado}" />
                                    <h:outputLabel for="input_habilitado" styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </div>
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" id="fila_input_definicion_titulo_autocomplete">
                            <h:outputLabel value="#{msg.definicionTitulo}" for="input_discapacidad_autocomplete" styleClass="col-sm-4 col-form-label"/>
                            <p:outputPanel styleClass="col-sm-8">
                                <p:autoComplete id="input_definicion_titulo_autocomplete" 
                                                styleClass="form-control texto-medio"
                                                value="#{componentePlanGradoBean.relGradoPlanEst.rgpDefinicionTitulo}"
                                                completeMethod="#{componentePlanGradoBean.completeDefinicionTitulo}"
                                                var="dis" itemLabel="#{dis.dtiNombre}" 
                                                itemValue="#{dis}" 
                                                onclick="PF('b_disc_autocomplete').search(PF('b_disc_autocomplete').input.val())"
                                                widgetVar="b_disc_autocomplete"
                                                forceSelection="true"
                                                queryDelay="500"
                                                placeholder="#{msg.autoCompleteEmptyItem}"
                                                converter="#{definicionTituloConverter}"
                                                multiple="true" unique="true" >
                                    <p:ajax event="itemSelect"  process="@this" update="input_definicion_titulo_autocomplete"/>
                                </p:autoComplete>

                            </p:outputPanel>                    
                        </p:outputPanel>

                        <p:outputPanel styleClass="form-group row" >   
                            <h:outputText value="#{msg.esUnicamenteAnual}" styleClass="col-sm-4 col-form-label"/>
                            <div class="col-sm-8">
                                <p:outputPanel styleClass="form-check">
                                    <h:selectBooleanCheckbox id="inputAnual" styleClass="form-check-input" disabled="#{!sessionBean.operaciones.contains(ConstantesOperaciones.PUEDE_EDITAR_PERIODO_ANUAL_COHORTE_EN_DATOS_DE_GRADO)}"
                                                             value="#{componentePlanGradoBean.relGradoPlanEst.rgpAnual}" />
                                    <h:outputLabel for="inputAnual" styleClass="form-check-label">
                                        <h:outputText value="#{msg.si}"/>
                                    </h:outputLabel>
                                </p:outputPanel>
                            </div>
                        </p:outputPanel>


                        <p:outputPanel styleClass="control-group" >
                            <p:outputPanel styleClass="float-right">
                                <p:commandButton id="btnGuardarFormula"  value="#{msg.guardar}" action="#{componentePlanGradoBean.guardarFormula()}" 
                                                 update="form:pnlResultado form:itemDetailFormula" 
                                                 styleClass="btn btn-primary" icon="glyphicon glyphicon-floppy-disk"/>                             
                                <p:commandLink value="#{msg.cancelar}" oncomplete="PF('itemDialogFormula').hide();"  update=":form:itemDetailFormula" styleClass="btn btn-link"/>                        
                            </p:outputPanel>                    
                        </p:outputPanel>                     
                        <p:blockUI block="@form" trigger="btnGuardarFormula" />    
                        <p:defaultCommand target="btnGuardarFormula" scope="itemDetailFormula"/>       
                    </p:outputPanel>         
                </h:panelGroup>            
            </p:outputPanel>        
        </p:dialog>


    </h:form>
</ui:composition>
