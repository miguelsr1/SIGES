<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"                 
                xmlns="http://www.w3.org/1999/xhtml"                 
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"                 
                xmlns:f="http://xmlns.jcp.org/jsf/core"                 
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:p="http://primefaces.org/ui">    
   
    <h:form id="form">
        <f:passThroughAttribute name="autocomplete" value="off"/>

        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#{ConstantesPaginas.SISTEMAS_INTEGRADOS}.xhtml">#{msg.gestionSistemaIntegrado}</a></li>
                <li class="breadcrumb-item active"  aria-current="page">#{sistemaIntegradoBean.nombrePagina}</li>

            </ol>
        </nav>


        <p:outputPanel styleClass="panel-titulo-pagina">
            
            <p:outputPanel styleClass="float-right">
         
                <ui:include src="componentes/ayudaComponente.xhtml">
                    <ui:param name="ayuda" id="uso" value="#{ayudaBean.getAyuda(ConstantesAyuda.SISTEMA_INTEGRADO)}" /> 
                </ui:include>
       
            </p:outputPanel>
            
            <h2 class="page-header"><h:outputText value="#{msg.gestionSistemaIntegrado}"/></h2>
            <div class="lineaHeader"><div class="verde"></div><div class="amarillo"></div><div class="rojo"></div><div class="celeste"></div></div>
        </p:outputPanel>
        <h3>
            <h:outputText rendered="#{sistemaIntegradoBean.entidadEnEdicion.sinPk != null}" value="#{sistemaIntegradoBean.soloLectura?msg.verSistemaIntegrado:msg.editarSistemaIntegrado} #{sistemaIntegradoBean.entidadEnEdicion.sinNombre}"/>
            <h:outputText rendered="#{sistemaIntegradoBean.entidadEnEdicion.sinPk == null}" value="#{msg.agregarSistemaIntegrado}" />
        </h3>

        <p:blockUI block="tabs" widgetVar="tabsBlocker" />  
        <p:tabView id="tabs" onTabChange="PF('tabsBlocker').show()">
            <p:ajax event="tabChange" listener="#{sistemaIntegradoBean.changeTab}" update="@form" process="@form" />
            <p:tab title="#{msg.datosGenerales}" id="general" >

                <c:if test="#{sistemaIntegradoBean.tabActiveId == 'general'}">
                    <p:outputPanel id="panelEnt">

                        <p:outputPanel id="formularioDiplomadoEdit" >

                            <p:outputPanel styleClass="form-group row" id="fila_input_codigo">                        
                                <p:outputLabel value="#{msg.codigo}" for="input_codigo" 
                                               styleClass="col-sm-3 col-form-label obligatorio" />                        
                                <p:outputPanel styleClass="col-sm-9">                            
                                    <p:inputText autocomplete="off" id="input_codigo" 
                                                 value="#{sistemaIntegradoBean.entidadEnEdicion.sinCodigo}" 
                                                 maxlength="15"
                                                 styleClass="form-control texto-medio" 
                                                 disabled="#{sistemaIntegradoBean.soloLectura}" />
                                </p:outputPanel>                    
                            </p:outputPanel>

                            <p:outputPanel styleClass="form-group row" id="fila_input_nombre">                        
                                <p:outputLabel value="#{msg.nombre}" for="input_nombre" 
                                               styleClass="col-sm-3 col-form-label obligatorio" />                        
                                <p:outputPanel styleClass="col-sm-9">                            
                                    <p:inputText autocomplete="off" id="input_nombre" 
                                                 value="#{sistemaIntegradoBean.entidadEnEdicion.sinNombre}" 
                                                 maxlength="100"
                                                 styleClass="form-control texto-medio" 
                                                 disabled="#{sistemaIntegradoBean.soloLectura}" />
                                </p:outputPanel>                    
                            </p:outputPanel>  

                            <p:outputPanel styleClass="form-group row" id="fila_input_promotor">                        
                                <p:outputLabel value="#{msg.promotor}" for="input_promotor" 
                                               styleClass="col-sm-3 col-form-label obligatorio" />                        
                                <p:outputPanel styleClass="col-sm-9">
                                    <h:selectOneMenu id="input_promotor" 
                                                     value="#{sistemaIntegradoBean.comboPromotor.selected}" 
                                                     styleClass="form-control dropdown texto-medio" 
                                                     disabled="#{sistemaIntegradoBean.soloLectura}">
                                        <f:selectItems value="#{sistemaIntegradoBean.comboPromotor.items}" />
                                    </h:selectOneMenu>
                                </p:outputPanel>                    
                            </p:outputPanel> 

                            <p:outputPanel styleClass="form-group row" id="fila_input_descripcion">                        
                                <p:outputLabel value="#{msg.descripcion}" for="input_nombre" 
                                               styleClass="col-sm-3 col-form-label"/>                        
                                <p:outputPanel styleClass="col-sm-9">                            
                                    <p:inputTextarea id="input_descripcion" 
                                                     value="#{sistemaIntegradoBean.entidadEnEdicion.sinDescripcion}" 
                                                     styleClass="form-control" disabled="#{sistemaIntegradoBean.soloLectura}" />
                                </p:outputPanel>                    
                            </p:outputPanel> 

                            <p:outputPanel styleClass="form-group row">   
                                <p:outputLabel value="#{msg.habilitado}" 
                                               styleClass="col-sm-3 col-form-label"/>
                                <div class="col-sm-9">
                                    <p:outputPanel styleClass="form-check">
                                        <h:selectBooleanCheckbox id="input_habilitado" styleClass="form-check-input" 
                                                                 value="#{sistemaIntegradoBean.entidadEnEdicion.sinHabilitado}" 
                                                                 disabled="#{sistemaIntegradoBean.soloLectura}" />
                                        <h:outputLabel for="input_habilitado" styleClass="form-check-label">
                                            <h:outputText value="#{msg.si}"/>
                                        </h:outputLabel>
                                    </p:outputPanel>
                                </div>
                            </p:outputPanel>
                        </p:outputPanel>
                        <div class="form-action-buttons">
                            <p:commandButton  id="btnGuardar" value="#{msg.guardar}"
                                              actionListener="#{sistemaIntegradoBean.guardar()}" 
                                              update="@form"  styleClass="btn btn-primary" 
                                              icon="glyphicon glyphicon-floppy-disk" 
                                              rendered="#{!sistemaIntegradoBean.soloLectura}" />
                            <p:blockUI block="@form" trigger="btnGuardar"/>
                        </div>

                        <h:panelGroup id="formularioSede">
                            <p:outputPanel  rendered="#{sistemaIntegradoBean.entidadEnEdicion.sinPk != null}">

                                <fieldset>
                                    <legend>#{msg.sedesIntegran}</legend>

                                    <p:blockUI block="@form" widgetVar="tabsSedesBlocker" />  
                                    <p:accordionPanel activeIndex="#{sistemaIntegradoBean.tabSedesSelected}" id="accordionSedes"
                                                      onTabChange="PF('tabsSedesBlocker').show()" 
                                                      rendered="#{sistemaIntegradoBean.totalResultados gt 0}">
                                        <p:ajax event="tabChange" listener="#{sistemaIntegradoBean.tabSelected}" update="@form" />
                                        <p:tab title="#{msg.verDistribucionSI}" id="tabMapSedes" >
                                            <p:outputPanel styleClass="form-group row" id="fila_mapa" >
                                                <iframe title="Mapa" src="#{sistemaIntegradoBean.urlMapa}" class="iframeMapa" />
                                            </p:outputPanel>
                                        </p:tab>
                                    </p:accordionPanel>

                                    <p:outputPanel styleClass="col-md-12 texto-right">
                                        <p:commandButton value="#{msg.nuevaSede}" icon="glyphicon glyphicon-plus" 
                                                         update=":form:tabs:itemDetail :form:tabs:popupModDip" 
                                                         oncomplete="PF('itemDialog').show()"  
                                                         actionListener="#{sistemaIntegradoBean.nuevaSede()}"
                                                         styleClass="btn btn-secondary" 
                                                         rendered="#{!sistemaIntegradoBean.soloLectura}"/>
                                    </p:outputPanel>

                                    <p:outputPanel id="pnlResultado" >

                                        <p:remoteCommand name="rc" update="accordionSedes" action="#{sistemaIntegradoBean.actualizarMapa()}" />
                                        <p:dataTable id="basicDT"                         
                                                     widgetVar="widResultado"                         
                                                     var="elem"                          
                                                     value="#{sistemaIntegradoBean.lazySedes}"                          
                                                     emptyMessage="#{msg.noHayResultados}"		
                                                     rendered="#{sistemaIntegradoBean.totalResultados gt 0}"
                                                     paginator="true"
                                                     paginatorPosition="bottom"
                                                     currentPageReportTemplate="#{msg.pagina} {currentPage} #{msg.de_m} {totalPages}"
                                                     sortField="sedPk" 
                                                     lazy="true"
                                                     paginatorTemplate="#{applicationBean.paginatorTemplate}"
                                                     rowsPerPageTemplate="#{applicationBean.rowsPerPageTemplate}"
                                                     rows="#{sistemaIntegradoBean.paginado}"  >
                                            <p:ajax event="page" oncomplete="rc()" />
                                            <p:ajax event="sort" oncomplete="rc()" />

                                            <f:facet name="{anterior}">
                                                <h:outputText styleClass="ui-paginator-prev  ui-state-disabled" value="&lt; #{msg.anterior}"/>
                                            </f:facet>
                                            <f:facet name="{siguiente}">
                                                <h:outputText styleClass="#{sistemaIntegradoBean.totalResultados lt (sistemaIntegradoBean.paginado+1) ? 'ui-paginator-next ui-state-disabled' : 'ui-paginator-next'}" value="#{msg.siguiente} &gt;"/>
                                            </f:facet>

                                            <f:facet name="header">
                                                <p:outputPanel id="pnlHeaderTabla" styleClass="row">
                                                    <p:outputPanel styleClass="col-md-6">
                                                        <h3>
                                                            <h:outputText value="#{msg.hsedes}" />
                                                            <h:outputText styleClass="cantidad" value="#{sistemaIntegradoBean.totalResultados}" >
                                                                <f:convertNumber  locale="#{sessionBean.localeNumber}"/>
                                                            </h:outputText>
                                                            <h:outputText styleClass="cantidad" value="#{msg.elementos}" /></h3>
                                                    </p:outputPanel>
                                                </p:outputPanel>
                                            </f:facet>
                                            <p:column headerText="#{msg.hcodigo}" sortBy="#{elem.sedCodigo}">
                                                <h:outputText value="#{elem.sedCodigo}" />
                                            </p:column>
                                            <p:column headerText="#{msg.hnombre}" sortBy="#{elem.sedNombre}">
                                                <h:outputText value="#{elem.sedNombre}" />
                                            </p:column>
                                            <p:column styleClass="columnaAcciones" exportable="false"> 
                                                <h:outputLink title="#{msg.verFichaSede}" value="#{applicationBean.portalUrl}/pp/sede?sede=#{elem.sedPk}" target="_blank">
                                                    <h:outputText styleClass="glyphicon glyphicon-eye-open"/>
                                                </h:outputLink>
                                            </p:column>
                                            <p:column styleClass="columnaAcciones" exportable="false"> 
                                                <h:outputLink title="#{msg.verFichaEstudiantes}" value="#{applicationBean.centrosFrontEndUrl}/ce/pp/estudiantes?sedbpk=#{elem.sedPk}" target="_blank">
                                                    <h:outputText styleClass="glyphicon glyphicon-education"/>
                                                </h:outputLink>
                                            </p:column>
                                            <p:column styleClass="columnaAcciones" exportable="false"> 
                                                <h:outputLink title="#{msg.verFichaDocentes}" value="#{applicationBean.centrosFrontEndUrl}/ce/pp/personalSedesEducativa?sedbpk=#{elem.sedPk}" target="_blank">
                                                    <h:outputText styleClass="glyphicon glyphicon-user"/>
                                                </h:outputLink>
                                            </p:column>

                                            <p:column styleClass="columnaAcciones" exportable="false"
                                                      rendered="#{!sistemaIntegradoBean.soloLectura}">
                                                <p:commandButton oncomplete="PF('confirmDialog').show()" 
                                                                 icon="glyphicon glyphicon-trash " 
                                                                 actionListener="#{sistemaIntegradoBean.seleccionarSede(elem)}"
                                                                 styleClass="btn btn-icono rojo" title="#{msg.eliminar}"  />
                                            </p:column>
                                        </p:dataTable>
                                    </p:outputPanel>
                                </fieldset>
                            </p:outputPanel>
                        </h:panelGroup>
                    </p:outputPanel>

                    <p:confirmDialog id="confirmDialog"
                                     message="#{msg.textoConfirmacionEliminacion}"
                                     header="#{msg.confirmacionEliminacion}" severity="alert" widgetVar="confirmDialog">
                        <p:outputPanel styleClass="float-right" >
                            <p:commandButton id="confirmDelete" value="#{msg.hconfirmar}" update="formularioSede"
                                             oncomplete="PF('confirmDialog').hide()"
                                             styleClass="btn btn-primary"
                                             action="#{sistemaIntegradoBean.eliminarSede()}"  />
                            <p:blockUI block="@form" trigger="confirmDelete"/>
                            <p:commandLink id="cancelarDelete" value="#{msg.cancelar}"
                                           onclick="PF('confirmDialog').hide()" styleClass="btn btn-link" />
                        </p:outputPanel>
                    </p:confirmDialog>

                    <p:dialog header="#{msg.agregarSede}" id="popupModDip"  widgetVar="itemDialog" 
                              modal="true" showEffect="fade" hideEffect="fade" resizable="false">             
                        <p:outputPanel id="itemDetail">                                                             
                            <h:panelGroup rendered="#{not empty sistemaIntegradoBean.entidadEnEdicion}"  >                    
                                <p:messages id="popupmsg" showDetail="true" globalOnly="false" for="popupmsg" closable="true"/>                
                                <p:outputPanel id="formularioDiplomado">                                               

                                    <p:outputPanel styleClass="form-group row" id="fila_input_sede">
                                        <h:outputLabel value="#{msg.sede}" for="input_sede" 
                                                       styleClass="col-sm-3 col-form-label obligatorio"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <p:autoComplete id="input_sede"
                                                            styleClass="form-control texto-medio"
                                                            value="#{sistemaIntegradoBean.sedeSeleccionada}"
                                                            completeMethod="#{sistemaIntegradoBean.completeSede}"
                                                            var="sed" itemLabel="#{sed.sedCodigoNombre}"
                                                            itemValue="#{sed}"
                                                            widgetVar="b_inst_resp_autocomplete"
                                                            forceSelection="true"
                                                            maxResults="10"
                                                            queryDelay="500"
                                                            multiple="false"
                                                            converter="#{sedesConverter}"
                                                            placeholder="#{msg.autoCompleteEmptyItem}">
                                            </p:autoComplete>
                                        </p:outputPanel>                    
                                    </p:outputPanel>

                                    <p:outputPanel styleClass="control-group" >
                                        <p:outputPanel styleClass="float-right">
                                            <p:commandButton id="btnGuardarpopup"  value="#{msg.guardar}" 
                                                             action="#{sistemaIntegradoBean.agregarSede()}" 
                                                             update="form:tabs:formularioSede form:tabs:itemDetail" 
                                                             styleClass="btn btn-primary" 
                                                             icon="glyphicon glyphicon-floppy-disk"/>                             
                                            <p:commandLink value="#{msg.cancelar}" oncomplete="PF('itemDialog').hide();"  
                                                           update=":form:tabs:itemDetail" styleClass="btn btn-link"/>                        
                                        </p:outputPanel>                    
                                    </p:outputPanel>                     
                                    <p:blockUI block="@form" trigger="btnGuardarpopup" />   
                                    <p:defaultCommand target="btnGuardarpopup" scope="itemDetail"/>       
                                </p:outputPanel>         
                            </h:panelGroup>            
                        </p:outputPanel>        
                    </p:dialog>



                    <p:dialog header="#{msg.tituloDetalleSede}" id="popupInfoSede"  widgetVar="itemDialogInfoSede" 
                              modal="true" showEffect="fade" hideEffect="fade" resizable="false">             
                        <p:outputPanel id="itemDetailInfoSede">                                                             
                            <h:panelGroup rendered="#{not empty sistemaIntegradoBean.entidadEnEdicion}"  >                    
                                <p:messages id="popupmsg2" showDetail="true" globalOnly="false" for="popupmsg2" closable="true"/>                
                                <p:outputPanel id="formularioInfoSede">                                               

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.codigo}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedCodigo}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                                            

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.nombre}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedNombre}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                                       

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.telefonos}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedTelefonos}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                                    

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.tipoSede}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedTipo.text}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                                  

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.tipoCalendario}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedTipoCalendario.tceNombre}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                                

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.jornadas}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.jornadas}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                              

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.accesoInternet}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedInternet}" converter="#{booleanConverter}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                              

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.zona}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedDireccion.dirZona.zonNombre}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                           

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.departamento}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedDireccion.dirDepartamento.depNombre}" />
                                        </p:outputPanel>
                                    </p:outputPanel>                        

                                    <p:outputPanel styleClass="form-group row">
                                        <h:outputLabel value="#{msg.municipio}" styleClass="col-sm-3 col-form-label"/>
                                        <p:outputPanel styleClass="col-sm-9">
                                            <h:outputText styleClass="form-control-plaintext texto-medio" 
                                                          value="#{sistemaIntegradoBean.sedeEnEdicion.sedDireccion.dirMunicipio.munNombre}" />
                                        </p:outputPanel>
                                    </p:outputPanel>

                                    <p:dataTable id="basicDTDetalleSede" 
                                                 widgetVar="widDetalleSede"                         
                                                 var="elem"                          
                                                 value="#{sistemaIntegradoBean.sedeEnEdicion.detalles}"                          
                                                 emptyMessage="#{msg.noHayResultados}"    
                                                 reflow="true" >
                                        <p:column headerText="#{msg.hniveles}" >
                                            <h:outputText value="#{elem.nivNombre}" />
                                        </p:column>
                                        <p:column headerText="#{msg.hmodalidadEducativa}" >
                                            <h:outputText value="#{elem.modalidad}" />
                                        </p:column>
                                        <p:column headerText="#{msg.secciones}" styleClass="texto-right">
                                            <h:outputText value="#{elem.totalSecciones}" />
                                        </p:column>
                                        <p:column headerText="#{msg.matriculas}"   styleClass="texto-right">
                                            <h:outputText value="#{elem.totalEstudiantes}"/>
                                        </p:column>
                                        <p:column headerText="#{msg.masculinoM}" style="background-color: #5b6d7c29"   styleClass="texto-right">
                                            <h:outputText value="#{elem.totalMasculino}" />
                                        </p:column>
                                        <p:column headerText="#{msg.femeninof}"  style="background-color: #32669036"  styleClass="texto-right">
                                            <h:outputText value="#{elem.totalFemenino}"/>
                                        </p:column>
                                        <p:column headerText="#{msg.docentes}"   styleClass="texto-right">
                                            <h:outputText value="#{elem.totalDocentes}"/>
                                        </p:column>
                                        <p:column headerText="#{msg.masculinoM}" style="background-color: #5b6d7c29"   styleClass="texto-right">
                                            <h:outputText value="#{elem.totalDocentesMasculino}" />
                                        </p:column>
                                        <p:column headerText="#{msg.femeninof}"  style="background-color: #32669036"  styleClass="texto-right">
                                            <h:outputText value="#{elem.totalDocentesFemenino}"/>
                                        </p:column>
                                    </p:dataTable>

                                    <p:outputPanel styleClass="control-group" >
                                        <p:outputPanel styleClass="float-right">                        
                                            <p:commandLink value="#{msg.cancelar}" oncomplete="PF('itemDialogInfoSede').hide();"  
                                                           styleClass="btn btn-link"/>                        
                                        </p:outputPanel>                    
                                    </p:outputPanel>
                                </p:outputPanel>         
                            </h:panelGroup>            
                        </p:outputPanel>        
                    </p:dialog>

                </c:if>
            </p:tab>
            <p:tab title="#{msg.estructuraGobernanza}" id="gobernanza" 
                   rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.VER_ESTRUCTURA_GOBERNANZA)}"
                   disabled="#{sistemaIntegradoBean.entidadEnEdicion.sinPk == null}">
                <p:outputPanel styleClass="form-group row" id="fila_input_gobernanza_documentos">
                    <p:outputPanel styleClass="col-md-12">
                        <c:if test="#{sistemaIntegradoBean.tabActiveId == 'gobernanza'}">
                            <f:subview id="galeriaDocumentosGobernanza">
                                <ui:include src="componentes/documentosSistema.xhtml" > 
                                    <ui:param name="sistemaIntegrado" value="#{sistemaIntegradoBean.entidadEnEdicion}" />
                                    <ui:param name="soloLectura" value="#{sistemaIntegradoBean.soloLectura}" />
                                    <ui:param name="controllerParam" value="#{sistemaIntegradoBean}" />
                                    <ui:param name="actionParam" value="actualizarLista" />
                                </ui:include>
                            </f:subview>
                        </c:if>
                    </p:outputPanel>
                </p:outputPanel>
            </p:tab>
            <p:tab title="#{msg.actasOAE}" id="oae" 
                   rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.VER_ACTAS_OAE)}"
                   disabled="#{sistemaIntegradoBean.entidadEnEdicion.sinPk == null}">
                <p:outputPanel styleClass="form-group row" id="fila_input_oae_documentos">
                    <p:outputPanel styleClass="col-md-12">

                        <c:if test="#{sistemaIntegradoBean.tabActiveId == 'oae'}">
                            <f:subview id="galeriaDocumentosOAE">
                                <ui:include src="componentes/documentosSistema.xhtml" > 
                                    <ui:param name="sistemaIntegrado" value="#{sistemaIntegradoBean.entidadEnEdicion}" />
                                    <ui:param name="soloLectura" value="#{sistemaIntegradoBean.soloLectura}" />
                                    <ui:param name="controllerParam" value="#{sistemaIntegradoBean}" />
                                    <ui:param name="actionParam" value="actualizarLista" />
                                </ui:include>
                            </f:subview>
                        </c:if>
                    </p:outputPanel>
                </p:outputPanel>
            </p:tab>
            <p:tab title="#{msg.otrosArchivos}" id="otros"  
                   rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.VER_OTROS_ARCHIVOS)}"
                   disabled="#{sistemaIntegradoBean.entidadEnEdicion.sinPk == null}">
                <p:outputPanel styleClass="form-group row" id="fila_input_otros_documentos">
                    <p:outputPanel styleClass="col-md-12">

                        <c:if test="#{sistemaIntegradoBean.tabActiveId == 'otros'}">
                            <f:subview id="galeriaDocumentosOtros">
                                <ui:include src="componentes/documentosSistema.xhtml" > 
                                    <ui:param name="sistemaIntegrado" value="#{sistemaIntegradoBean.entidadEnEdicion}" />
                                    <ui:param name="soloLectura" value="#{sistemaIntegradoBean.soloLectura}" />
                                    <ui:param name="controllerParam" value="#{sistemaIntegradoBean}" />
                                    <ui:param name="actionParam" value="actualizarLista" />
                                </ui:include>
                            </f:subview>
                        </c:if>
                    </p:outputPanel>
                </p:outputPanel>
            </p:tab>
            <p:tab title="#{msg.hacuerdos}" id="acuerdos"  
                   rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.VER_ACUERDOS_SISTEMA)}"
                   disabled="#{sistemaIntegradoBean.entidadEnEdicion.sinPk == null}">
                <p:outputPanel styleClass="form-group row" id="fila_input_acuerdos">
                    <p:outputPanel styleClass="col-md-12">

                        <c:if test="#{sistemaIntegradoBean.tabActiveId == 'acuerdos'}">
                            <f:subview id="acuerdosSistema">
                                <ui:include src="componentes/acuerdoSistema.xhtml" > 
                                    <ui:param name="sistemaIntegrado" value="#{sistemaIntegradoBean.entidadEnEdicion}" />
                                    <ui:param name="soloLectura" value="#{sistemaIntegradoBean.soloLectura}" />
                                </ui:include>
                            </f:subview>
                        </c:if>
                    </p:outputPanel>
                </p:outputPanel>
            </p:tab>
            <p:tab title="#{msg.actividades}" id="actividades"  
                   rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.VER_ACTIVIDADES_SISTEMA_INTEGRADO)}"
                   disabled="#{sistemaIntegradoBean.entidadEnEdicion.sinPk == null}">
                <p:outputPanel styleClass="form-group row" id="fila_input_actividades">
                    <p:outputPanel styleClass="col-md-12">

                        <c:if test="#{sistemaIntegradoBean.tabActiveId == 'actividades'}">
                            <f:subview id="acuerdosSistema">
                                <ui:include src="componentes/actividadesSistema.xhtml" > 
                                    <ui:param name="sistemaIntegrado" value="#{sistemaIntegradoBean.entidadEnEdicion}" />
                                </ui:include>
                            </f:subview>
                        </c:if>
                    </p:outputPanel>
                </p:outputPanel>
            </p:tab>
            <p:tab title="#{msg.proyectosFinanciamiento}" id="proyectos_financiamiento"  
                   rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.VER_PROYECTOS_FINANCIAMIENTO_SISTEMA_INTEGRADO)}"
                   disabled="#{sistemaIntegradoBean.entidadEnEdicion.sinPk == null}">
                <p:outputPanel styleClass="form-group row" id="fila_input_proyectos_financiamiento">
                    <p:outputPanel styleClass="col-md-12">

                        <c:if test="#{sistemaIntegradoBean.tabActiveId == 'proyectos_financiamiento'}">
                            <f:subview id="acuerdosSistema">
                                <ui:include src="componentes/proyectosFinanciamientoSistema.xhtml" > 
                                    <ui:param name="sistemaIntegrado" value="#{sistemaIntegradoBean.entidadEnEdicion}" />
                                </ui:include>
                            </f:subview>
                        </c:if>
                    </p:outputPanel>
                </p:outputPanel>
            </p:tab>
            <p:tab title="#{msg.indicadores}" id="indicadores"  
                   rendered="#{sessionBean.operaciones.contains(ConstantesOperaciones.VER_INDICADORES_SISTEMA_INTEGRADO)}"
                   disabled="#{sistemaIntegradoBean.entidadEnEdicion.sinPk == null}">
                <p:outputPanel styleClass="form-group row" id="fila_input_indicadores">
                    <p:outputPanel styleClass="col-md-12">

                        <c:if test="#{sistemaIntegradoBean.tabActiveId == 'indicadores'}">
                            <f:subview id="acuerdosSistema">
                                <ui:include src="componentes/indicadoresSistema.xhtml" > 
                                    <ui:param name="sistemaIntegrado" value="#{sistemaIntegradoBean.entidadEnEdicion}" />
                                </ui:include>
                            </f:subview>
                        </c:if>
                    </p:outputPanel>
                </p:outputPanel>
            </p:tab>

        </p:tabView>


        <h:panelGroup styleClass="volverLink" layout="block">
            <p:commandLink value="#{msg.volver}" onclick="history.go(-1)" styleClass="btn btn-link"/> 
        </h:panelGroup>

    </h:form>
</ui:composition>
