
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>
        <script src="../resources/js/cookies.js" />

        <div class="container">
            <div id="top">
                <div class="botonMenuMobile">
                    <h:form prependId="false">
                        <p:commandButton id="menu-toggle"
                                         styleClass="btn btn-icono btn-menu"  
                                         icon="glyphicon glyphicon-menu-hamburger" 
                                         action="#{permisosMB.cambiarMenu()}"
                                         title="Mostrar/esconder menú" 
                                         oncomplete="$('#wrapper').toggleClass('toggled');" />   
                    </h:form>

                </div>
                <div class="row">
                    <div class="col-sm-4">

                        <div>
                            <h1 class="nombreSistema">#{textMB.obtenerTexto('NOMBRE_SISTEMA')}</h1><span> - versión #{aplicacionMB.version}</span>
                        </div>
                    </div>
                    <div class="col-sm-8 datosUsuarioHeader">
                        <div class="datosUsuario">
                            <span class="nombre"><h:outputText value="#{userInfo.userName}" /></span>

                        </div>
                        <div class="salirUsuario">
                            <h:form>
                                <h:outputText styleClass="notificaciones" value="#{notificacionesConsulta.cantidadElementos}" id="txt_cant_notificaciones" />
                                <p:poll rendered="false" interval="30" listener="#{notificacionesConsulta.actualizarCantElementos}" update="txt_cant_notificaciones"/>
                                <h:commandLink styleClass="btn btn-link" 
                                               action="#{permisosMB.irACambioContrasenia()}" 
                                               rendered="#{permisosMB.permisos['CAMBIAR_MI_CONTRASENIA'] }">
                                    <h:outputText styleClass="glyphicon glyphicon-refresh" />
                                    <h:outputText value="#{textMB.obtenerTexto('labels.menu.cambioContrasenia')}"/>
                                </h:commandLink>
                                <h:commandLink action="#{permisosMB.salir()}" styleClass="btn btn-default" onclick="eraseCookie('expandedSubMenu')">
                                    <h:outputText styleClass="glyphicon glyphicon-log-out" />
                                    <h:outputText value="#{textMB.obtenerTexto('labels.menu.CerrarSesion')}" styleClass="ui-button-text ui-c"/>
                                </h:commandLink>
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </ui:composition>
</html>

