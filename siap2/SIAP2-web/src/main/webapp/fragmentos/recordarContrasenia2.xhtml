<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <ui:composition>
        <h:form id="otformCreateAgenda" >
            <div class="panelTituloPagina">
                <h2 id="overview" class="page-header">
                    <h:outputText value="#{textMB.obtenerTexto('labels.RecordarContrasenia')}" />
                </h2>
            </div>

            <h:messages id="mensajes" showSummary="true" errorClass="alert alert-danger" infoClass="alert alert-success" styleClass="mensajes"/>	
        </h:form>
        <h:form id="formRecordarContrasenia"  prependId="false">
            <h:panelGroup layout="block" rendered="#{recordarContrasenia2MB.tokenOK}">
                <div class="form-group">
                    <h:outputLabel value="#{textMB.obtenerTexto('labels.newPassword')}" />
                    <h:inputSecret id="newPass" value="#{recordarContrasenia2MB.nuevaContrasenia}" styleClass="form-control"  required="true"  requiredMessage="#{textMB.obtenerTexto('labels.CampoRequerido')}" />
                    <h:message for="newPass" styleClass="help-inline msj-danger" />
                </div>
                <div class="form-group">
                    <h:outputLabel value="#{textMB.obtenerTexto('labels.confirmPassword')}" />
                    <h:inputSecret id="confirmPass" value="#{recordarContrasenia2MB.confirmacionContrasenia}" styleClass="form-control"  required="true"  requiredMessage="#{textMB.obtenerTexto('labels.CampoRequerido')}" />
                    <h:message for="confirmPass" styleClass="help-inline msj-danger" />
                </div>
            </h:panelGroup>
            <h:panelGroup layout="block" rendered="#{recordarContrasenia2MB.tokenOK}">
                <div class="form-group">
                    <p:commandButton styleClass="btn btn-primary" icon="glyphicon glyphicon-saved" value="Guardar" ajax="false" actionListener="#{recordarContrasenia2MB.guardar()}"  update="formCreateAgenda otformCreateAgenda:mensajes" />
                    <h:outputLink styleClass="btn btn-link" value="../paginasPrivadas/inicio.xhtml"  ><h:outputText value="#{textMB.obtenerTexto('labels.Volver')}" /></h:outputLink>
                </div>
            </h:panelGroup>
            <h:panelGroup layout="block" rendered="#{not recordarContrasenia2MB.tokenOK}">
                <div class="form-group">
                    <h:outputText styleClass="alert alert-danger" value="#{textMB.obtenerTexto('labels.TokenInvalido')}" />
                </div>
                <div class="form-group">
                    <h:outputLink styleClass="btn btn-link" value="../paginasPrivadas/inicio.xhtml"  ><h:outputText value="#{textMB.obtenerTexto('labels.Volver')}" /></h:outputLink>
                </div>
            </h:panelGroup>
        </h:form>
    </ui:composition>
</html>

