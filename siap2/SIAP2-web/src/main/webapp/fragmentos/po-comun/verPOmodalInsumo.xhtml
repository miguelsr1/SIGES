<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui">


    <h:panelGroup id="verblockInsumo" layout="block">
        <div class="modal fade" id="veranadirInsumo" tabindex="-1" role="dialog" aria-labelledby="anadirInsumo">
            <div class="modal-dialog modal-lg" role="document">
                <h:panelGroup styleClass="modal-content" layout="block" id="vercontenidoModalInsumo">
                    <h:form id="veranadirInsumoForm" prependId="false" > 
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" class="glyphicon glyphicon-remove-sign"></span></button>
                            <span class="modal-title">
                                <h:outputText value="#{textMB.obtenerTexto('labels.VerInsumo')}" /> 
                            </span>
                        </div>
                        <div class="modal-body">
                            <div class="form-horizontal">
                                <h:messages showSummary="true" globalOnly="true" errorClass="alert alert-danger" infoClass="alert alert-success" styleClass="mensajes"/>	
                                <h:outputText styleClass="requeridos" value="#{textMB.obtenerTexto('labels.PreciosExpresadosEnDolares')}"/>
                                <!--- TABS DE INSUMOS --> 
                                <div class="form-group">
                                    <h:outputLabel styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.Codigo')}:" />
                                    <div class="col-sm-9">
                                        <h:outputText id="vernombreInsumo" value="#{parameterBean.tempInsumo.id}" styleClass="form-control-static" />
                                    </div>
                                </div> 
                                <div class="form-group">
                                    <p:outputLabel for="verfechaInsumo" styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.FechaEstimadaDeContratacion')}:"/>
                                    <div class="col-sm-9">
                                        <h:outputText id="verfechaInsumo" value="#{parameterBean.tempInsumo.fechaContratacion}" styleClass="form-control-static" converter="dateConverter" >
                                        </h:outputText> 
                                    </div>
                                </div> 

                                <h:panelGroup layout="block" rendered="#{parameterBean.tempInsumo.noUACI}">
                                    <div class="form-group">
                                        <p:outputLabel styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.FechaRealInicioEjecucion')}:"/>
                                        <div class="col-sm-9">
                                            <h:outputText  value="#{parameterBean.tempInsumo.fechaRealInicioEjecucion}" styleClass="form-control-static" converter="dateConverter"/>                                                    
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <h:outputLabel styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.DuracionInsumo')}:" />
                                        <div class="col-sm-9">
                                            <h:outputText  value="#{parameterBean.tempInsumo.duracion}" styleClass="form-control-static numericos"/>
                                        </div>
                                    </div>
                                </h:panelGroup>

                                <div class="form-group">
                                    <h:outputLabel for="verobservacionInsumo" styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.Observacion')}:" />
                                    <div class="col-sm-9">
                                        <h:outputText id="verobservacionInsumo" value="#{parameterBean.tempInsumo.observacion}" styleClass="form-control-static" />
                                        <h:message for="verobservacionInsumo" styleClass="help-inline msj-danger" />
                                    </div>
                                </div> 
                                <div class="form-group">
                                    <h:outputLabel for="verinsumoInsumo" styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.Insumo')}:" />
                                    <div class="col-sm-9">
                                        <h:outputText id="verinsumoInsumo" value="#{parameterBean.tempInsumo.insumo.nombre}" styleClass="form-control-static" />
                                        <h:message for="verinsumoInsumo" styleClass="help-inline msj-danger" />
                                    </div>
                                </div> 
                                <div class="form-group">
                                    <h:outputLabel styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.UACI')}:" />
                                    <div class="col-sm-9">
                                        <h:outputText  rendered="#{parameterBean.tempInsumo.noUACI}" value="#{textMB.obtenerTexto('labels.No')}" styleClass="form-control-static"    />
                                        <h:outputText  rendered="#{not parameterBean.tempInsumo.noUACI}" value="#{textMB.obtenerTexto('labels.Si')}" styleClass="form-control-static"    />
                                    </div>
                                </div> 
                                <div class="form-group">
                                    <h:outputLabel for="vercantidadInsumo" styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.Cantidad')}:" />
                                    <div class="col-sm-9">
                                        <h:outputText id="vercantidadInsumo" value="#{parameterBean.tempInsumo.cantidad}" styleClass="form-control-static numericos" >
                                        </h:outputText>
                                        <h:message for="vercantidadInsumo" styleClass="help-inline msj-danger" />
                                    </div>
                                </div> 
                                <div class="form-group">
                                    <h:outputLabel styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.MontoUnitario')}:" />
                                    <div class="col-sm-9">
                                        <h:outputText value="#{parameterBean.tempInsumo.montoUnit}" styleClass="form-control-static numericos" >
                                            <f:convertNumber locale="#{utilsMB.localeDinero}" pattern="#{utilsMB.patternDinero}"/>
                                        </h:outputText>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <h:outputLabel for="montoTotal" styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.MontoTotal')}:" />
                                    <div class="col-sm-9">
                                        <h:outputText id="montoTotal" value="#{parameterBean.tempInsumo.montoTotal}" styleClass="form-control-static numericos" >
                                            <f:convertNumber locale="#{utilsMB.localeDinero}" pattern="#{utilsMB.patternDinero}"/>
                                        </h:outputText>	
                                    </div>
                                </div>
                                <ui:fragment rendered="#{ parameterBean.getTipoPO() eq 'TIPO_PO_PROYECTO' or parameterBean.getTipoPO() eq 'TIPO_POG_PROYECTO' }"> 
                                    <p:outputPanel id="vermodalInsumo-bloque-motno-estructura" >
                                        <fieldset class="fieldset fieldsetSmall margenSup">
                                            <p:outputPanel styleClass="form-group" rendered="#{parameterBean.isnumoRequiereTramos()}">
                                                <h:outputLabel for="tramoASelecionar" styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.TramoHasta')}:" />
                                                <div class="col-sm-9">
                                                    <h:outputText value="#{parameterBean.tempInsumo.tramo.montoHasta} " >
                                                        <f:convertNumber locale="#{utilsMB.localeDinero}" pattern="#{utilsMB.patternDinero}"/>
                                                    </h:outputText>
                                                </div>
                                            </p:outputPanel>
                                            <legend><h:outputText value="#{textMB.obtenerTexto('labels.MontosFuentes')}" /></legend>
                                            <div class="table-padding" >
                                                <ui:repeat id="verdistribuccionMontosEnInsumo" value="#{parameterBean.tempInsumo.montosFuentes}" var="monto">
                                                    <div class="form-group">
                                                        <h:outputLabel styleClass="col-sm-3 control-label">
                                                            <h:outputText value="*#{monto.fuente.fuenteRecursos.nombre}, " />
                                                            <h:outputText value="#{monto.fuente.categoriaConvenio.nombre}:" />
                                                        </h:outputLabel>
                                                        <div class="col-sm-9">
                                                            <h:outputText id="vermodalInsumo-monto" value="#{monto.monto}" styleClass="form-control-static numericos">
                                                                <f:convertNumber locale="#{utilsMB.localeDinero}" pattern="#{utilsMB.patternDinero}"/>
                                                            </h:outputText>
                                                        </div>
                                                    </div>
                                                </ui:repeat>
                                            </div>
                                        </fieldset>
                                    </p:outputPanel>
                                </ui:fragment>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-link" data-dismiss="modal"><h:outputText value="#{textMB.obtenerTexto('labels.Cancelar')}" /></button>
                        </div>
                    </h:form> 
                </h:panelGroup>
            </div>
        </div> 
    </h:panelGroup>
</ui:composition>