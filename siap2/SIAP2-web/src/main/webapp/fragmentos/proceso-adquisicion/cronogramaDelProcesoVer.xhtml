<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui">
    <h:panelGroup layout="block" >
<!--        <h:form prependId="false" id="formCronogramaDelProceso" styleClass="form-horizontal">
            <h:messages showSummary="true"  globalOnly="true" errorClass="alert alert-danger" infoClass="alert alert-success" styleClass="mensajes"/>		

            
            <div class="form-group">
                <p:outputLabel styleClass="col-sm-3 control-label" value="#{textMB.obtenerTexto('labels.FechaInicialDelCronograma')}:" for="menorFechaGantt"/>
                <div class="col-sm-9">
                    <p:calendar value="#{cronogramaDelProceso.fechaInicioGantt}" styleClass="textoMedio" id="menorFechaGantt" locale="es" pattern="dd/MM/yyyy" >
                        <p:ajax event="dateSelect" listener="#{cronogramaDelProceso.regenerarGantt}" update="ta" 
                                oncomplete="loadFromLocalStorage();" />
                    </p:calendar>
                    <h:message for="menorFechaGantt" styleClass="help-inline msj-danger" />
                </div>
            </div>
            <div class="form-group sin-color">
                <div class="col-sm-offset-3 col-sm-9">
                    <p:commandButton styleClass="btn btn-primary"
                                     onclick="saveInLocalStorage();"
                                     oncomplete ="loadFromLocalStorage();"
                                     value="#{textMB.obtenerTexto('labels.Guardar')}" 
                                     update="@form otrosDatos"
                                     icon="glyphicon glyphicon-saved"
                                     action="#{cronogramaDelProceso.guardar()}">
                    </p:commandButton>
                </div>
            </div>
            
             el json del gantt
            <div id="taZone" class="hidden" >
                <h:inputTextarea value="#{cronogramaDelProceso.ganttJson}" rows="8" cols="150" id="ta" />
            </div>
        </h:form>-->
        <h:panelGroup id="bloqueGantt" layout="block" styleClass="margenSup">
            <div>
                <h:outputStylesheet name="jQueryGantt-master/platform.css" />
                <h:outputStylesheet name="jQueryGantt-master/libs/dateField/jquery.dateField.css" />
                <h:outputStylesheet name="jQueryGantt-master/gantt.css" />
                <!--                <h:outputStylesheet name="jQueryGantt-master/ganttPrint.css" />-->
                <h:outputStylesheet name="jQueryGantt-master/libs/jquery.svg.css" />

                <!-- se tendria que eliminar esta version de jquery porque se importa dos veces sino  -->

                <!-- si se sacan estas dos librerias solucionan problemas con primefaces pero se rompe con proceso vacios-->
<!--                <h:outputScript library="jQueryGantt-master" name="libs/jquery.min.js" /> 
                <h:outputScript library="jQueryGantt-master" name="libs/jquery-ui.min.js" /> -->
                
                <h:outputScript library="jQueryGantt-master" name="libs/jquery.livequery.min.js" />  
                <h:outputScript library="jQueryGantt-master" name="libs/jquery.timers.js" /> 
                <h:outputScript library="jQueryGantt-master" name="libs/platform.js" /> 
                <h:outputScript library="jQueryGantt-master" name="libs/date.js" /> 
                <h:outputScript library="jQueryGantt-master" name="libs/i18nJs.js" /> 
                <h:outputScript library="jQueryGantt-master" name="libs/dateField/jquery.dateField.js" /> 
                <h:outputScript library="jQueryGantt-master" name="libs/JST/jquery.JST.js" /> 
                <h:outputScript library="jQueryGantt-master" name="libs/jquery.svg.min.js" /> 
                <h:outputScript library="jQueryGantt-master" name="libs/jquery.svgdom.1.8.js" /> 
                <h:outputScript library="jQueryGantt-master" name="ganttUtilities.js" /> 
                <h:outputScript library="jQueryGantt-master" name="ganttTask.js" /> 
                <h:outputScript library="jQueryGantt-master" name="ganttDrawerSVG.js" /> 
                <h:outputScript library="jQueryGantt-master" name="ganttGridEditor.js" /> 
                <h:outputScript library="jQueryGantt-master" name="ganttMaster.js" /> 
                <h:outputScript>
                    habilitadoAddRow = false;
                    habilitadoModalEditar = false;
                </h:outputScript>



                <!-- <div id="ndo" style="position:absolute;right:5px;top:5px;width:378px;padding:5px;background-color: #FFF5E6; border:1px solid #F9A22F; font-size:12px" class="noprint">
                    This Gantt editor is free thanks to <a href="http://twproject.com" target="_blank">Twproject</a> where it can be used on a complete and flexible project management solution.<br/> Get your projects done! Give <a href="http://twproject.com" target="_blank">Twproject a try now</a>.
                </div> -->
                <div id="workSpace" class="workSpace" style="padding:0px; overflow-y:auto; overflow-x:hidden; border:1px solid #e5e5e5; position:relative; margin:0; width:100%; height:600px"></div>

                <h:outputScript library="js" name="initGantt.js" />  

                <div id="gantEditorTemplates" style="display:none;">
                    <h:outputText value="#{ganttTemplates.printTemplatesSimple()}" escape="false" />
                </div>

                <h:outputScript library="js" name="initGantt2.js" />  

            </div>
        </h:panelGroup>
    </h:panelGroup>
</ui:composition>
